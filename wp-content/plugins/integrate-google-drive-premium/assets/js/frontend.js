(()=>{var e={606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!s){var e=a(u);s=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||s||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},159:(e,t,n)=>{"use strict";var r=n(264);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},211:(e,t,n)=>{e.exports=n(159)()},264:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=React.createContext();const t=e;var r=e.Provider;function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=React,l=a.useEffect,c=a.useState;function s(e){var t=e.text,n=e.isDismissable,r=void 0===n||n,o=i(c(!0),2),a=o[0],s=o[1];return l((function(){a||ReactDOM.unmountComponentAtNode(document.getElementById("igd-pro-modal"))}),[a]),l((function(){var e=jQuery;function t(){var e=(new Date).getTime()+2.3*24*60*60*1e3;localStorage.setItem("igd_offer_time",e),n=e}r&&e(document).on("click",".igd-pro-modal-wrap",(function(t){e(t.target).hasClass("igd-pro-modal-wrap")&&s(!1)}));var n=localStorage.getItem("igd_offer_time");!n||isNaN(n)?t():n=parseInt(n),setInterval((function(){var r=(new Date).getTime(),i=n-r;i<0&&(t(),i=n-r);var o=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),l=Math.floor(i%36e5/6e4),c=Math.floor(i%6e4/1e3);e(".timer .days span:first").text(o),e(".timer .hours span:first").text(a),e(".timer .minutes span:first").text(l),e(".timer .seconds span:first").text(c)}),1e3)}),[]),a?React.createElement("div",{className:"igd-pro-modal-wrap"},React.createElement("div",{className:"igd-pro-modal"},React.createElement("span",{className:"igd-pro-modal-close",onClick:function(){return s(!1)}},"Ã—"),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/offer.svg"),alt:"Upgrade to Pro"}),React.createElement("div",{className:"discount"},React.createElement("span",{className:"discount-special"},wp.i18n.__("Special","igd-dark-mode")),React.createElement("span",{className:"discount-text"},wp.i18n.__("30% OFF","igd-dark-mode"))),React.createElement("h3",null,wp.i18n.__("Unlock PRO Feature","integrate-google-drive")),React.createElement("p",null,t),React.createElement("div",{className:"timer"},React.createElement("div",{className:"days"},React.createElement("span",null,"0"),React.createElement("span",null,"DAYS")),React.createElement("div",{className:"hours"},React.createElement("span",null,"0"),React.createElement("span",null,"HOURS")),React.createElement("div",{className:"minutes"},React.createElement("span",null,"0"),React.createElement("span",null,"MINUTES")),React.createElement("div",{className:"seconds"},React.createElement("span",null,"0"),React.createElement("span",null,"SECONDS"))),React.createElement("div",{className:"igd-pro-modal-actions"},React.createElement("a",{href:igd.upgradeUrl,className:"igd-btn btn-primary"},wp.i18n.__("Upgrade Now","integrate-google-drive"))))):null}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),l=new j(r||[]);return i(a,"_invoke",{value:C(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var m="suspendedStart",g="suspendedYield",v="executing",h="completed",w={};function y(){}function b(){}function _(){}var E={};s(E,a,(function(){return this}));var R=Object.getPrototypeOf,S=R&&R(R(P([])));S&&S!==n&&r.call(S,a)&&(E=S);var A=_.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,l){var c=p(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==d(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function C(t,n,r){var i=m;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===h){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=F(l,r);if(c){if(c===w)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var s=p(t,n,r);if("normal"===s.type){if(i=r.done?h:g,s.arg===w)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=h,r.method="throw",r.arg=s.arg)}}}function F(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,F(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,w;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(d(t)+" is not iterable")}return b.prototype=_,i(A,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=s(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(A),s(A,c,"Generator"),s(A,a,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,w):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),w}},t}function f(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){var r;return r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={text:{"application/vnd.oasis.opendocument.text":"Text","text/plain":"Text"},file:{"text/html":"HTML","text/php":"PHP","x-httpd-php":"PHP","text/css":"CSS","text/js":"JavaScript","application/javascript":"JavaScript","application/json":"JSON","application/xml":"XML","application/x-shockwave-flash":"SWF","video/x-flv":"FLV","application/vnd.google-apps.file":"File"},image:{"application/vnd.google-apps.photo":"Photo","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPG","image/gif":"GIF","image/bmp":"BMP","image/vnd.microsoft.icon":"ICO","image/tiff":"TIFF","image/tif":"TIF","image/svg+xml":"SVG"},zip:{"application/zip":"ZIP","application/x-rar-compressed":"RAR","application/x-msdownload":"EXE","application/vnd.ms-cab-compressed":"CAB"},audio:{"audio/mpeg":"MP3","video/quicktime":"QT","application/vnd.google-apps.audio":"Audio","audio/x-m4a":"Audio"},video:{"application/vnd.google-apps.video":"Video","video/x-flv":"Video","video/mp4":"Video","video/webm":"Video","video/ogg":"Video","application/x-mpegURL":"Video","video/MP2T":"Video","video/3gpp":"Video","video/quicktime":"Video","video/x-msvideo":"Video","video/x-ms-wmv":"Video"},pdf:{"application/pdf":"PDF"},word:{"application/msword":"MS Word"},doc:{"application/vnd.google-apps.document":"Google Docs"},excel:{"application/vnd.ms-excel":"Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel"},presentation:{"application/vnd.google-apps.presentation":"Slide","application/vnd.oasis.opendocument.presentation":"Presentation"},powerpoint:{"application/vnd.ms-powerpoint":"Powerpoint"},form:{"application/vnd.google-apps.form":"Form"},folder:{"application/vnd.google-apps.folder":"Folder"},drawing:{"application/vnd.google-apps.drawing":"Drawing"},script:{"application/vnd.google-apps.script":"Script"},sites:{"application/vnd.google-apps.sites":"Sites"},spreadsheet:{"application/vnd.google-apps.spreadsheet":"Spreadsheet","application/vnd.oasis.opendocument.spreadsheet":"Spreadsheet"}},r="File",i="file";return Object.keys(n).map((function(o){t&&n[o][e]?i=o:n[o][e]&&(r=n[o][e])})),t?i:r}function y(e){if(e<1)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function b(e){var t;return!e||!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function _(e){var t=w(e,!0);return t=t||"file","".concat(igd.pluginUrl,"/assets/images/icons/").concat(t,".png")}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(B(igd.activeAccount))).id,n=[{accountId:t,id:"root",name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:t,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:t,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:t,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:t,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?n.find((function(t){return t.id===e})):n}function R(e){var t,n=null==e||null===(t=e.getSource)||void 0===t||null===(t=t.call(e))||void 0===t||null===(t=t.relativePath)||void 0===t?void 0:t.replace(/^\//,"");return null!=n?n:""}function S(e){return O(e)||A(e)}function A(e){var t,n;return!(null==e||null===(t=e.type)||void 0===t||!t.includes("video/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("video/"))}function O(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("audio/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("audio/"))}function x(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("image/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("image/"))}function C(e,t){return E(e,t)}function F(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.id,i=e.iconLink,o=e.thumbnailLink;e.accountId;e.shortcutDetails&&(r=e.shortcutDetails.targetId);var a=n.w,l=n.h;a||(a=64),l||(l=64);var c=null==i?void 0:i.replace("/16/","/".concat(a,"/"));return o&&(c=function(e){var t,n;return"reader"===(null===(t=e.permissions)||void 0===t||null===(t=t.users)||void 0===t||null===(t=t.anyoneWithLink)||void 0===t?void 0:t.role)||"writer"===(null===(n=e.permissions)||void 0===n||null===(n=n.users)||void 0===n||null===(n=n.anyoneWithLink)||void 0===n?void 0:n.role)}(e)?"custom"===t?"https://drive.google.com/thumbnail?id=".concat(r,"&sz=w").concat(a,"-h").concat(l):"https://drive.google.com/thumbnail?id=".concat(r,"small"===t?"&sz=w300-h300":"medium"===t?"&sz=w600-h400":"large"===t?"&sz=w1024-h768":"full"===t?"&sz=w2048":"&sz=w300-h300"):o.includes("google.com")?"custom"===t?o.replace("=s220","=w".concat(a,"-h").concat(l)):"small"===t?o.replace("=s220","=w300-h300"):"medium"===t?o.replace("=s220","=h600-nu"):"large"===t?o.replace("=s220","=w1024-h768-p-k-nu"):"full"===t?o.replace("=s220",""):o.replace("=s220","=w200-h190-p-k-nu"):k(e,t,a,l)),c}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,i={id:e.id,accountId:e.accountId,size:t};"custom"===t&&(i.w=n,i.h=r);var o=L(JSON.stringify(i));return"".concat(igd.homeUrl,"?igd_preview_image=").concat(o)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive"),t=document.getElementById("igd-pro-modal");t||((t=document.createElement("div")).id="igd-pro-modal",document.body.appendChild(t)),ReactDOM.render(React.createElement(s,{text:e}),t)}function P(){var e=v(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}function I(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!r||r.preview){n=n.filter((function(e){return!b(e)}));var a=!r||!1!==r.inlinePreview,l=n.find((function(e){return e.id===t}));if(!a&&l&&l.webViewLink)window.open(l.webViewLink,"_blank");else{var c=!r||!!r.download,s=!r||r.allowPreviewPopout,d=!!r&&r.comment,u=n.map((function(e){var t=e.id,n=e.name,i=e.iconLink,a=e.accountId,l=e.exportAs,s=e.exportLinks,u=e.webContentLink,f=e.description,p=S(e),m=x(e),g="";if(l&&c&&(s||u)){g="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(e.id,"&accountId=").concat(e.accountId);var v=Object.keys(l);if(v.length){var h=l[v[0]].mimetype;g+="&mimetype=".concat(h)}}var w={thumb:N(e,"small"),downloadUrl:g,subHtml:o?"<h4>".concat(n,"</h4>").concat(f?"<p>".concat(f,"</p>"):""):'<div class="item-name">\n                      <img src="'.concat(null==i?void 0:i.replace("/16/","/32/"),'" alt="').concat(n,'" />\n                      <span>').concat(n,"</span>\n                  </div>")};if(d){var y="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),b="".concat(y,"?id=").concat(t);"disqus"===r.commentMethod?(w.disqusIdentifier=t,w.disqusUrl=b):w.fbHtml='<div class="fb-comments" data-href="'.concat(b,'" data-width="400" data-numposts="5"></div>')}if(p){w.poster=N(e,"large");var _=A(e)?"video/mp4":"audio/mp3",E="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(t,"&account_id=").concat(a);w.video='{"source": [{"src":"'.concat(E,'", "type":"').concat(_,'"}], "attributes": {"preload": "auto","playsinline": true, "autoplay": true, "controls": true, "referrerpolicy": "no-referrer"}}')}else m?w.src=N(e,"full"):(w.iframe=!0,w.iframeTitle=n,w.src="".concat(igd.ajaxUrl,"?action=igd_preview&file_id=").concat(t,"&account_id=").concat(a,"&popout=").concat(!r||!!r.allowPreviewPopout,"&nonce=").concat(igd.nonce));return w})),f=function(){document.body.style.overflow="hidden"},p=function t(){document.body.style.overflow="",e.target.removeEventListener("lgBeforeOpen",f),e.target.removeEventListener("lgAfterClose",t),e.target.removeEventListener("lgSlideItemLoad",w)};window.dynamicGallery&&(e.target.removeEventListener("lgBeforeOpen",f),e.target.removeEventListener("lgAfterClose",p),e.target.removeEventListener("lgSlideItemLoad",w),window.dynamicGallery.destroy(!0));var m=window.innerWidth<768,g=[lgThumbnail,lgZoom,lgVideo];d&&g.push(lgComment),m||g.push(lgFullscreen);var v={dynamic:!0,dynamicEl:u,plugins:g,addClass:"igd-lightbox ".concat(c?"":"no-download"," ").concat(o?"gallery-lightbox":""," "),counter:o,autoplayVideoOnSlide:!0,preload:3,mobileSettings:{showCloseIcon:!0,thumbWidth:60,thumbHeight:60,download:!0,controls:!0}};o?v.allowMediaOverlap=!0:v.appendSubHtmlTo=".lg-outer",d&&(v.commentBox=!0,"disqus"===r.commentMethod?v.disqusComments=!0:v.fbComments=!0),window.dynamicGallery=lightGallery(e.target,v),e.target.addEventListener("lgBeforeOpen",f),e.target.addEventListener("lgAfterClose",p),e.target.addEventListener("lgSlideItemLoad",w),i&&i.downloadNotification&&document.addEventListener("click",(function(e){e.target.classList.contains("lg-download")&&wp.ajax.post("igd_notification",{files:[l],notifications:i,type:"download",nonce:igd.nonce})}),!1);var h=n.findIndex((function(e){return e.id===t}));dynamicGallery.openGallery(h)}}function w(){var e=document.querySelector(".lg-current");if(e){var t=e.querySelector(".igd-hidepopout");s||t||e.insertAdjacentHTML("beforeend",'<div class="igd-hidepopout">&nbsp;</div>')}}}var T=function(){var e=window.IgdShortcode;Array.from(document.querySelectorAll(".igd")).forEach((function(t){var n=t.dataset.shortcodeData;if(n)try{var r=JSON.parse(B(n));ReactDOM.render(React.createElement(e,{data:r}),t)}catch(e){console.error("Could not parse the shortcode data",e)}}))};function L(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function B(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(B(igd.activeAccount));return"root"!==e&&C(e,t)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"970",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"700",n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,i=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,o=r+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,a=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(i,",top=").concat(o));a.focus&&a.focus(),Object.keys(sessionStorage).forEach((function(e){e.includes("igd_last_folder_")&&sessionStorage.removeItem(e)}))}function M(e,t){var n=z(e,t);return"igd_last_folder_".concat(n)}function z(e,t){var n="",r=window.location.pathname.replace(/\//g,"_");if(e||"undefined"==typeof pagenow||(r=pagenow.replace(/\//g,"_")),t)n+=t.id;else if(e){n=e.filter((function(e){return b(e)})).map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.slice(0,3)})).join("_")}return"".concat(n,"_").concat(r)}function K(e,t,n){if(e){var r=M(t,n);sessionStorage.setItem(r,JSON.stringify(m(m({},e),{},{pageNumber:0})))}}function H(e,t){var n=M(e,t);sessionStorage.removeItem(n)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e=new Date(e)).getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2);if(t){var o=e.getHours(),a=o<12?"AM":"PM",l=0===o?12:o>12?o-12:o,c=("0"+e.getMinutes()).slice(-2);return"".concat(n,"-").concat(r,"-").concat(i," ").concat(("0"+l).slice(-2),":").concat(c," ").concat(a)}return"".concat(n,"-").concat(r,"-").concat(i)}function Q(){var e;return e=u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("igd_last_review_popup"),n=Number(localStorage.getItem("igd_remind_in_days"))||2,r=(new Date).getTime(),i=24*n*60*60*1e3,!(t&&r-t<=i)){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("igd_last_review_popup",(new Date).getTime()),e.next=9,Swal.fire({title:wp.i18n.__("Are You Enjoying This Plugin?","integrate-google-drive"),text:wp.i18n.__("Your feedback helps us create a better experience for you.","integrate-google-drive"),icon:"question",showDenyButton:!0,confirmButtonText:wp.i18n.__("Yes, I'm enjoying it","integrate-google-drive"),denyButtonText:wp.i18n.__("Not really","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?Swal.fire({title:wp.i18n.__("We're glad to hear that!","integrate-google-drive"),text:wp.i18n.__("Would you mind taking a few minutes to rate us and write a review?","integrate-google-drive"),icon:"success",showDenyButton:!0,confirmButtonText:wp.i18n.__("Sure, I'd be happy to","integrate-google-drive"),denyButtonText:wp.i18n.__("Maybe later","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(window.open("https://wordpress.org/support/plugin/integrate-google-drive/reviews/?filter=5#new-post","_blank"),wp.ajax.post("igd_hide_review_notice",{nonce:igd.nonce})):e.isDenied&&localStorage.setItem("igd_remind_in_days",10)})):e.isDenied&&Swal.fire({title:wp.i18n.__("Sorry to hear that!","integrate-google-drive"),text:wp.i18n.__("Could you please provide us with some feedback to help us improve?","integrate-google-drive"),input:"textarea",inputPlaceholder:wp.i18n.__("Enter your feedback here...","integrate-google-drive"),showCancelButton:!1,confirmButtonText:wp.i18n.__("Submit","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(Swal.fire({title:wp.i18n.__("Thank you for your feedback!","integrate-google-drive"),text:wp.i18n.__("We'll use your feedback to improve our plugin.","integrate-google-drive"),icon:"info",customClass:{container:"igd-swal igd-review-swal"}}),wp.ajax.post("igd_review_feedback",{feedback:e.value,nonce:igd.nonce})):e.isDismissed&&wp.ajax.post("igd_hide_review_notice",{nonce:igd.nonce})}))}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})),Q=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))},Q.apply(this,arguments)}function q(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=React,Y=G.useState,X=G.useRef,Z=G.useEffect,$=G.useContext;function ee(){var e=$(t),n=e.isSearch,r=e.searchFiles,i=e.setFiles,o=e.listFiles,a=e.activeFolder,l=e.setActiveFolder,c=e.setIsSearchResults,s=e.initFolders,d=e.searchKeyword,u=e.setSearchKeyword,f=e.initialSearchTerm,p=X(null),m=V(Y(!1),2),g=m[0],v=m[1],h=X(),w=V(Y(n||f),2),y=w[0],b=w[1],_=function(e){if(e&&e.preventDefault(),v(!1),c(!1),!d)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void v(!0);r(d)},E=P();return Z((function(){if(E&&d&&!(d.length<5))return p.current=setTimeout((function(){_()}),1500),function(){clearTimeout(p.current)}}),[d]),React.createElement("form",{ref:h,className:"header-action-item igd-search-bar ".concat(y?"active":""," ").concat(g?"error":""),onSubmit:_},(!n||n&&!!d)&&React.createElement("div",{className:"search-dismiss",onClick:function(){n||b(!y),u(""),v(!1),c(!1),a?n?(c(!1),l(null),i([])):o(a):i(s&&!n?s:[])}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search","integrate-google-drive"),value:d,onChange:function(e){u(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;y?_():(b(!0),null===(e=h.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{"data-tip":wp.i18n.__("Search","integrate-google-drive"),"data-for":"search",width:"20",height:"20",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"9.7659",cy:"9.76639",r:"8.98856",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M16.0176 16.4849L19.5416 19.9997",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),React.createElement(ReactTooltip,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}var te=React.useContext,ne=igd.settings.rememberLastFolder,re=void 0===ne||ne;function ie(){var e=te(t),n=e.breadcrumbs,r=e.initFolders,i=e.setFiles,o=e.activeFolder,a=e.setActiveFolder,l=e.setActiveFile,c=e.listFiles,s=e.initParentFolder,d=e.show,u=e.isShortcodeBuilder,f=e.activeAccount,p=e.setIsOptions,m=e.setActiveFiles,g=!!n&&Object.keys(n),v=g.length>2?g[0]:"",h=g.length>3?g.slice(1,-2):[],w=g.length?g.slice(-2):[],y=function(e){e.preventDefault(),e.stopPropagation(),p(!1),m([]),l(o),d(e)};return React.createElement("div",{className:"igd-breadcrumb"},React.createElement("div",{className:"breadcrumb-item",onClick:function(e){r?s?(a(s),c(s)):(a(null),i(r),re&&H(r,s)):(a(null),i([]),re&&H(r,s))}},React.createElement("i",{className:"dashicons dashicons-admin-home"}),React.createElement("span",{className:""},wp.i18n.__("Home","integrate-google-drive"))),!!o&&React.createElement(React.Fragment,null,!!v&&React.createElement("div",{className:"breadcrumb-item ".concat(u||o.id!==v?"":"active"),onClick:function(e){o.id===v?y(e):c({id:v,name:n[v],accountId:o.accountId})}},React.createElement("span",null,q(n[v]))),!!h.length&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tip":!0,"data-for":"collapsed_breadcrumbs",className:"breadcrumb-item"},React.createElement("i",{className:"dashicons dashicons-ellipsis"}),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(ReactTooltip,{id:"collapsed_breadcrumbs",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,className:"collapsed-breadcrumbs igd-tooltip",getContent:function(){return h.map((function(e){return React.createElement("div",{key:e,className:"collapsed-breadcrumbs-item",onClick:function(t){c({id:e,name:n[e],accountId:o.accountId})}},React.createElement("span",null,n[e]))}))}})),w.map((function(e){return React.createElement("div",{key:e,className:"breadcrumb-item ".concat(D(o.id,f)||u||o.id!==e?"":"active"),onClick:function(t){D(o.id,f)||(o.id===e?y(t):c({id:e,name:n[e],accountId:o.accountId}))}},React.createElement("span",null,q(n[e])))}))))}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){var r;return r=function(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oe(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=React.useContext,de=window.ReactTooltip;function ue(){var e=se(t),n=e.shortcodeId,r=e.activeAccount,i=e.setActiveAccount,o=e.files,a=e.activeFiles,l=e.setActiveFiles,c=e.allFolders,s=e.getFiles,d=e.isShortcodeBuilder,u=e.initFolders,f=e.activeFolder,p=e.isSearch,m=e.setShowSidebar,g=e.sort,v=e.setSort,h=e.permissions,w=e.notifications,y=e.showBreadcrumbs,b=e.isOptions,_=e.setIsOptions,E=e.showRefresh,R=e.showSorting,S=e.shortcodeBuilderType,A=e.isMobile,O=e.show,x=e.hideAll,C=e.setFiles,N=e.setAllFiles,k=e.nonce,P="gallery"===S,I=igd.isPro,T={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created","integrate-google-drive"),updated:wp.i18n.__("Modified","integrate-google-drive")},L={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")};return React.createElement("div",{className:"igd-file-browser-header"},(!p||d)&&y&&React.createElement(ie,null),React.createElement("div",{className:"header-action"},A&&!d&&igd.isAdmin&&React.createElement("i",{className:"dashicons dashicons-menu-alt3 header-action-item sidebar-toggle",onClick:function(){return m((function(e){return!e}))}}),!!P&&!!h&&!!h.photoProof&&React.createElement("button",{className:"igd-btn btn-primary ".concat(a.length?"":"disabled"," photo-proofing-btn"),onClick:function(){h.photoProofMaxSelection>0&&a.length>h.photoProofMaxSelection?Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n.__("You can not select more than %s files.","integrate-google-drive"),h.photoProofMaxSelection),icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}):Swal.fire({title:wp.i18n.sprintf(wp.i18n.__("Approve Selection (%s selected)","integrate-google-drive"),a.length),text:wp.i18n.__("Are you sure you want to approve the selected files?","integrate-google-drive"),input:"textarea",inputValue:"",inputAttributes:{autocapitalize:"off",placeholder:wp.i18n.__("Enter a message to send to the author","integrate-google-drive")},showCancelButton:!1,confirmButtonText:wp.i18n.__("Approve","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return wp.ajax.post("igd_photo_proof",{shortcode_id:n,message:e,selected:a,email:h.photoProofEmail,nonce:k||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Sent!","integrate-google-drive"),text:wp.i18n.__("Your selected images have been sent to the author.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})}))}})},disabled:!a.length},React.createElement("i",{className:"dashicons dashicons-camera"}),React.createElement("span",null,wp.i18n.__("Send Selection","integrate-google-drive")),a.length>0&&React.createElement("span",{className:"selection-count"},"(",a.length,")")),!["shared","shared-drives","computers"].includes(null==f?void 0:f.id)&&!!a.length&&(!h||h.delete)&&React.createElement("div",{"data-tip":wp.i18n.__("Delete","integrate-google-drive"),"data-for":"delete",className:"header-action-item action-delete",onClick:function(){var e=a.map((function(e){return e.id})),t=a[0].accountId;Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("You are about to delete the file.","You are about to delete %s files.",a.length,"integrate-google-drive"),a.length),icon:"warning",showCancelButton:!0,customClass:{container:"igd-swal igd-swal-reverse"},confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(){return wp.ajax.post("igd_delete_files",{file_ids:e,account_id:t,nonce:k||igd.nonce})}}).then((function(t){if(t.isConfirmed){w&&w.deleteNotification&&wp.ajax.post("igd_notification",{files:a,notifications:w,type:"delete",nonce:k||igd.nonce});var n=o.filter((function(t){return!e.includes(t.id)}));C(n),N((function(e){return le(le({},e),{},ce({},f.id,n))})),l([]),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("File has been deleted.","%d files have been deleted.",a.length,"integrate-google-drive"),a.length),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}}))}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/delete.svg"),alt:"Delete Files"}),React.createElement(de,{id:"delete",effect:"solid",place:"bottom",className:"igd-tooltip"})),(u||f)&&(!h||h.allowSearch||p)&&React.createElement(ee,null),E&&(!p||d)&&f&&React.createElement("div",{"data-tip":wp.i18n.__("Refresh","integrate-google-drive"),"data-for":"sync",className:"header-action-item action-update",onClick:function(){f&&s(f,"refresh")}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/update.svg"),alt:"Sync Files"}),React.createElement(de,{id:"sync",effect:"solid",place:"bottom",className:"igd-tooltip"})),R&&(!p||d)&&f&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tip":wp.i18n.__("Sort","integrate-google-drive"),"data-for":"sort",className:"header-action-item action-sort"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/sort.svg"),alt:"Sort"}),React.createElement(de,{id:"sort",effect:"solid",place:"bottom",className:"igd-tooltip"})),React.createElement(de,{id:"sort",type:"light",event:"click",globalEventOff:"click",className:"igd-sort-modal igd-tooltip",place:"bottom",border:!0,backgroundColor:"#fff",clickable:!0,borderColor:"#ddd",effect:"solid"},React.createElement("div",{className:"igd-sort-modal-inner"},React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(T).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(g.sortBy===e?"active":""),onClick:function(){return v(le(le({},g),{},{sortBy:e}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,T[e]))}))),React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(L).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(g.sortDirection===e?"active":""),onClick:function(){return v((function(t){return le(le({},t),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,L[e]))})))))),null!==b&&(d||(!P||P&&!!h&&!!h.download&&!!h.zipDownload)&&(!p||p&&!!o.length))&&React.createElement("div",{"data-tip":wp.i18n.__("Options","integrate-google-drive"),"data-for":"options",onClick:function(e){e.preventDefault(),_(!b),b?x():O(e)},className:"header-action-item action-options"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/options.svg"),alt:"Options"}),React.createElement(de,{id:"options",effect:"solid",place:"bottom",className:"igd-tooltip"})),(!u||c)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"header-action-item action-accounts user-box","data-tip":!0,"data-for":"switch-account"},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:r.photo,onError:function(e){return F(e.currentTarget,r.email)}}),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/arrow-down.svg"),className:"user-arrow"})),React.createElement(de,{id:"switch-account",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,border:!0,borderColor:"#ddd",resizeHide:!1,className:"user-box-modal-wrap igd-tooltip",overridePosition:function(e,t,n,r){var i=e.left,o=e.top,a=document.documentElement;return{left:i=Math.min(a.clientWidth-r.clientWidth,i),top:o=Math.min(a.clientHeight-r.clientHeight,o)}}},React.createElement("div",{className:"user-box-modal"},React.createElement("span",{className:"user-box-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(JSON.parse(B(igd.accounts))).map((function(e){var t=JSON.parse(B(igd.accounts))[e],n=t.id,o=t.name,a=t.photo,l=t.email,c=r.id===n;return React.createElement("div",{key:e,className:"user-box-account ".concat(c?"active":""),onClick:function(){return i(JSON.parse(B(igd.accounts))[e])}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return F(e.currentTarget,l)},src:a}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},o),React.createElement("span",{className:"account-email"},l)),c&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),!d&&!u&&React.createElement(React.Fragment,null,React.createElement("button",{"data-tip":"Multiple Accounts - PRO","data-for":"addAccountPromo",className:"igd-btn btn-primary",onClick:function(){I||!JSON.parse(B(igd.accounts))?igd.authUrl?U():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings":j(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))),!I&&!!JSON.parse(B(igd.accounts))&&React.createElement(de,{id:"addAccountPromo",effect:"solid",place:"right",className:"igd-tooltip",backgroundColor:"#FDB837"})))))))}function fe(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e){var t=e.file,n=e.isSelected,r=e.selectedFolders,i=void 0===r?[]:r,o=e.setSelectedFolders;return React.createElement("button",{className:"select-btn ".concat(n?"active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),o(n?fe(i.filter((function(e){return e.id!=t.id}))):[].concat(fe(i),[t]))}},React.createElement("i",{className:"dashicons ".concat(n?"dashicons-no":"dashicons-plus")}),React.createElement("span",null,n?wp.i18n.__("Remove","integrate-google-drive"):wp.i18n.__("Select","integrate-google-drive")))}var ge=React.useContext;function ve(){var e=ge(t),n=e.activeAccount,r=e.initFolders,i=e.activeFolder,o=e.setActiveFolder,a=e.selectedFolders,l=e.shortcodeBuilderType,c=e.listFiles,s=e.setSelectedFolders,d=e.isList,u=e.selectionType,f="uploader"===l,p="embed"===l,m="view"===l,g="download"===l,v="slider"===l,h=E(!1,n);r&&(h=h.filter((function(e){return r.includes(e.id)})));var w=l&&!m&&!g&&!p&&!v;return f?w=!a.length||"root"===a[0].id:"parent"===u&&(w=!0),h.map((function(e){var t=e.id,n=e.name,r=e.iconLink,l=a&&!!a.find((function(e){return e.id===t}));return React.createElement("div",{key:t,className:"".concat(t===(null==i?void 0:i.id)?"active":""," file-item root-item folder-item"),onClick:function(t){t.stopPropagation(),o(e),c(e)}},React.createElement("img",{src:r,alt:n}),React.createElement("span",null,n),w&&"root"===t&&React.createElement(me,{file:e,isSelected:l,selectedFolders:a,setSelectedFolders:s,isList:d}))}))}var he=window.React,we=he.useRef,ye=he.useContext;function be(){var e=ye(t),n=e.activeAccount,r=e.activeFolder,i=e.isUpload,o=e.setIsUpload,a=e.isMobile,l=e.setShowSidebar,c=n.storage,s=void 0===c?{}:c,d=Math.round(100*s.usage/s.limit),u=!(!r||C(r.id,n)&&"root"!==r.id),f=we(null);return React.createElement("div",{ref:f,className:"igd-sidebar-wrap"},React.createElement("div",{className:"igd-sidebar"},React.createElement("div",{className:"sidebar-uploader"},React.createElement("button",{id:"igd_upload_files",disabled:!u,className:"".concat(i?"active":u?"":"disabled"," igd-btn"),onClick:function(){o((function(e){return!e})),a&&l(!1)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("span",null,wp.i18n.__("Upload Files","integrate-google-drive")))),React.createElement("div",{className:"sidebar-folders"},React.createElement(ve,null)),React.createElement("div",{className:"storage-info-wrap"},React.createElement("i",{className:"dashicons dashicons-database"}),React.createElement("div",{className:"storage-info"},React.createElement("div",{className:"storage-info-sidebar"},React.createElement("div",{style:{width:"".concat(d,"%")},className:"storage-info-fill ".concat(d>90?"fill-danger":"")})),React.createElement("span",null,y(s.usage)," of ",y(s.limit)," used")))))}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){var r;return r=function(e,t){if("object"!=_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_e(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=React,Ne=Fe.useState,ke=Fe.useEffect,je=Fe.useRef,Pe=Fe.useContext;function Ie(){var e=Pe(t),n=e.account,r=void 0===n?JSON.parse(B(igd.activeAccount)):n,i=e.notifications,o=e.folders,a=e.filters,l=e.maxFiles,c=e.maxFileSize,s=e.minFileSize,d=e.activeFolder,u=e.isUpload,f=e.setIsUpload,p=e.isFormUploader,m=e.isRequired,g=e.showUploadLabel,v=e.uploadLabelText,h=e.uploadFileName,w=e.isWooCommerceUploader,y=e.wcItemId,E=e.wcOrderId,S=e.wcProductId,A=e.initUploadedFiles,O=void 0===A?[]:A,x=e.setFiles,C=e.setAllFiles,F=e.enableFolderUpload,N=void 0===F?!!d:F,k=e.uploadImmediately,j=void 0===k?!!d||w:k,P=e.overwrite,I=e.showUploadConfirmation,T=e.uploadConfirmationMessage,L=e.nonce,D=e.enableUploadDescription,U=a||{},M=U.allowExtensions,z=U.allowAllExtensions,K=U.allowExceptExtensions,H=Oe(Ne(O),2),W=H[0],Q=H[1],q=Oe(Ne(O),2),V=q[0],J=q[1],G=Oe(Ne([]),2),Y=G[0],X=G[1],Z=Oe(Ne([]),2),$=Z[0],ee=Z[1],te=Oe(Ne(0),2),ne=te[0],re=te[1],ie=Oe(Ne(!1),2),oe=ie[0],ae=ie[1],le=Oe(Ne([]),2),ce=le[0],se=le[1],de=Oe(Ne([]),2),ue=de[0],fe=de[1],pe=je(null),me=je(null),ge=je(null),ve=d;if(!ve){var he=o?o.filter((function(e){return b(e)})):[];ve=he&&he.length?he[0]:{id:"root",accountId:r.id}}var we=function(e){if(e){var t=pe.current.files,n=t.findIndex((function(t){return t.id===e.id}))+1;n<t.length&&Ee(t[n])}},ye=function(e,t,n){if(!e)return n(!0);var r=t.name.split(".").pop();(z?!e.split(",").map((function(e){return e.trim()})).includes(r):e.split(",").map((function(e){return e.trim()})).includes(r))?n(!0):(this.trigger("Error",{code:"EXT_ERROR",file:t}),n(!1))},be=function(e,t,n){if(!(e=1024*e*1024))return n(!0);t.size<e?(this.trigger("Error",{code:"SIZE_MIN_ERROR",file:t}),n(!1)):n(!0)},_e=function(e,t,n){if(!e)return n(!0);var r=this.files.length;O.length&&(r=me.current.querySelectorAll(".file-list-item.uploaded").length),r>=e?(this.trigger("Error",{code:"FILES_MAX_ERROR",file:t}),n(!1)):n(!0)},Ee=function(e){if(e){pe.current.stop(),re(0),X((function(t){return t.find((function(t){return t.id===e.id}))?t:[].concat(Ae(t),[e])}));var t=R(e);wp.ajax.post("igd_get_upload_url",{data:{name:e.name,queueIndex:pe.current.files.findIndex((function(t){return t.id===e.id}))+1,size:e.size,type:e.type,fileId:e.id,description:e.description,folderId:ve.id,uploadFileName:h,accountId:ve.accountId,path:t&&t.substring(0,t.lastIndexOf("/")+1),overwrite:P,isWooCommerceUploader:w,wcProductId:S,wcOrderId:E,wcItemId:y},nonce:L||igd.nonce}).done((function(e){pe.current.setOption("url",e),pe.current.start()})).fail((function(t){console.log(t),we(e),ee($.filter((function(t){return t.id!==e.id}))),X($.filter((function(t){return t.id!==e.id}))),re(0),Q((function(n){return n.map((function(n){return n.id===e.id&&(n.error=t.error),n}))}))}))}},xe=function(){var e={browse_button:me.current.querySelector(".browse-files"),drop_element:me.current,multipart:!1,multi_selection:!l||l>1,filters:{max_files:l,file_ext:z?K:M,max_file_size:c?"".concat(parseInt(c),"mb"):0,min_file_size:s},init:{FilesAdded:function(e,t){ae(!1),Q((function(e){return[].concat(Ae(e),Ae(t))})),ee((function(e){return[].concat(Ae(e),Ae(t))})),X((function(e){var n=Ae(e);return j&&!e.length&&(Ee(t[0]),n=[].concat(Ae(e),[t[0]])),n}))},FilesRemoved:function(e,t){ee((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))})),Q((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))}))},FileUploaded:function(e,t,n){!function(e,t){X((function(t){return t.filter((function(t){return t.id!==e.id}))})),we(e);var n=JSON.parse(t.response);if(n){var r={file:n=Re(Re({},n),{},{type:n.mimeType,accountId:ve.accountId,pluploadId:e.id,path:N&&R(e)})};w&&(r.wcOrderId=E,r.wcItemId=y,r.wcProductId=S),J((function(e){return[].concat(Ae(e),[n])})),ee((function(t){return t.filter((function(t){return t.id!==e.id}))})),wp.ajax.post("igd_file_uploaded",Re(Re({},r),{},{nonce:L||igd.nonce})).done((function(e){x&&(x((function(t){return[e].concat(Ae(t))})),C((function(t){return Re(Re({},t),{},Se({},ve.id,[e].concat(Ae(t[ve.id]||[]))))})))}))}}(t,n)},UploadProgress:function(e,t){re(t.percent)},UploadComplete:function(){X([]),ee([]),setTimeout((function(){ae(!0)}),!p&&I?1e3:0)},Error:function(e,t){return function(e,t){var n;switch(e){case-600:n=wp.i18n.__("File size exceeds the maximum upload size.","integrate-google-drive")+"(".concat(c?"".concat(parseInt(c),"mb"):0,")");break;case"SIZE_MIN_ERROR":n=wp.i18n.__("File size is less than the minimum upload size.","integrate-google-drive")+"(".concat(s,"mb)");break;case"EXT_ERROR":n=wp.i18n.__("This file type is not allowed","integrate-google-drive");break;case"FILES_MAX_ERROR":n=wp.i18n.__("You can not upload more than","integrate-google-drive")+" ".concat(l," ").concat(wp.i18n.__("files","integrate-google-drive"));break;default:n=t.error}t.error=n,Q((function(e){var n=e.findIndex((function(e){return e.id===t.id}));if(n>-1){var r=Ae(e);return r[n]=t,r}return[].concat(Ae(e),[t])}))}(t.code,t.file)}}};return!z&&M&&(e.filters.mime_types=[{title:"Allowed files",extensions:M}]),e},Ce=function(){if(plupload.buildUrl=function(e){return e},plupload.addFileFilter("file_ext",ye),plupload.addFileFilter("min_file_size",be),plupload.addFileFilter("max_files",_e),pe.current=new plupload.Uploader(xe()),pe.current.init(),N){var e=new mOxie.FileInput({browse_button:me.current.querySelector(".browse-folder"),directory:!0});e.init(),e.onchange=function(){pe.current.addFile(e.files)}}};ke((function(){return Ce(),function(){pe.current&&pe.current.destroy()}}),[]);var Fe=function(){if(jQuery){var e=jQuery,t=e(me.current).closest("form");if(t.length){var n=e(me.current).parent().next(".upload-file-list"),r=function(e){return e.map((function(e){return{id:e.id,accountId:e.accountId,name:e.name,iconLink:e.iconLink,thumbnailLink:e.thumbnailLink,size:e.size,parents:e.parents,path:N&&e.path}}))}(V);if(["metform","elementor","ninjaforms","cf7"].includes(p)){var i=r.map((function(e){var t="https://drive.google.com/file/d/".concat(e.id,"/view");return"".concat(e.name," â€” ( ").concat(t," )")})).join(", \n\n");n.val(i).change()}else n.val(JSON.stringify(r)).change();if(t.trigger("change"),!j&&!t.find(".file-list-item.active").length){var o=t.find(":submit");o.length?(o.is("input")?o.val(ge.current):o.text(ge.current),o.trigger("click")):t.submit()}}}};ke((function(){oe&&V.length&&(i&&i.uploadNotification&&wp.ajax.post("igd_notification",{files:V,notifications:i,type:"upload",nonce:L||igd.nonce}),p&&Fe())}),[oe]),ke((function(){if($.length&&!Y.length&&p&&!j&&me.current){var e=jQuery(me.current).closest("form");if(e.length){var t=jQuery(e).find(":submit");if(t.length){var n=t.parent();t.addClass("igd-disabled");var r=function(e){e.preventDefault();var n=t.is("input");ge.current=t.is("input")?t.val():t.text(),n?t.val(wp.i18n.__("Uploading Files...","integrate-google-drive")):t.text(wp.i18n.__("Uploading Files...","integrate-google-drive")),Ee($[0])};return n.on("click",r),function(){t&&(n.off("click",r),t.removeClass("igd-disabled"))}}}}}),[$]),ke((function(){if(p){var e=jQuery(me.current).closest("form"),t=function(e){Q([]),ee([]),X([]),J([])};return e.on("reset",t),function(){return e.off("reset",t)}}}),[]);var Ie=!p&&!w&&!j&&I&&V.length&&oe,Te=$.length||W.filter((function(e){return!e.error})).length,Le=$.length?j||Y.length?wp.i18n.__("Item(s) Uploading...","integrate-google-drive"):wp.i18n.__("Item(s) Selected","integrate-google-drive"):wp.i18n.__("Item(s) Uploaded","integrate-google-drive");return React.createElement("div",{onDragEnter:function(){return me.current.classList.add("drag-active")},onDragLeave:function(){return me.current.classList.remove("drag-active")},onDrop:function(){return me.current.classList.remove("drag-active")},ref:me,className:"igd-file-uploader igd-module-uploader ".concat(p?" igd-form-uploader":""," ").concat(!m||$.length||W.length?"":"required-error","  ").concat(Ie?"show-confirmation":""," ")},React.createElement("div",{className:"igd-file-uploader-body"},!!Ie&&React.createElement("div",{className:"upload-confirmation"},React.createElement("div",{className:"upload-confirmation-message",dangerouslySetInnerHTML:{__html:T}}),(!l||l>V.length)&&React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return ae(!1)}},wp.i18n.__("Upload More Files","integrate-google-drive"))),React.createElement("div",{className:"igd-file-uploader-inner"},g&&React.createElement("h4",{className:"igd-file-uploader-label"},v),React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("p",null,wp.i18n.__("Drag and drop files here","integrate-google-drive")),React.createElement("p",{className:"or"},wp.i18n.__("OR","integrate-google-drive")),React.createElement("div",{className:"igd-file-uploader-buttons"},React.createElement("button",{type:"button",className:"browse-files",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&pe.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M842.24 355.413333l-232.106667-256a42.666667 42.666667 0 0 0-31.573333-14.08h-298.666667A107.946667 107.946667 0 0 0 170.666667 192v640A107.946667 107.946667 0 0 0 279.893333 938.666667h464.213334A107.946667 107.946667 0 0 0 853.333333 832V384a42.666667 42.666667 0 0 0-11.093333-28.586667zM597.333333 213.333333l116.906667 128h-85.333333a33.706667 33.706667 0 0 1-31.573334-36.266666z m146.773334 640H279.893333a22.613333 22.613333 0 0 1-23.893333-21.333333v-640a22.613333 22.613333 0 0 1 23.893333-21.333333H512v134.4A119.04 119.04 0 0 0 627.626667 426.666667H768v405.333333a22.613333 22.613333 0 0 1-23.893333 21.333333z",fill:"currentColor"}),React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Files","integrate-google-drive"))),N&&React.createElement("button",{type:"button",className:"browse-folder",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&pe.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"}),React.createElement("path",{d:"M832 300.8h-298.666667L421.12 165.12a42.666667 42.666667 0 0 0-32.853333-15.786667H192A105.386667 105.386667 0 0 0 85.333333 253.013333v517.973334a105.386667 105.386667 0 0 0 106.666667 103.68h640a105.386667 105.386667 0 0 0 106.666667-103.68V404.48a105.386667 105.386667 0 0 0-106.666667-103.68z m21.333333 469.333333a19.626667 19.626667 0 0 1-21.333333 18.346667h-640a19.626667 19.626667 0 0 1-21.333333-18.346667V253.013333a19.626667 19.626667 0 0 1 21.333333-18.346666h176.213333l110.933334 135.68a42.666667 42.666667 0 0 0 32.853333 15.786666h320a19.626667 19.626667 0 0 1 21.333333 18.346667z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Folder","integrate-google-drive")))),u&&React.createElement("i",{className:"cancel-upload dashicons dashicons-no",onClick:function(){return f(!1)}}),React.createElement("div",{className:"upload-info"},!!s&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Min File Size:","integrate-google-drive")," ",s,"MB"),!!c&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Max File Size:","integrate-google-drive")," ",c,"MB")))),!!W.length&&!Ie&&React.createElement("div",{className:"file-list-wrapper"},React.createElement("div",{className:"file-list-header"},React.createElement("span",{className:"file-count"},Te),React.createElement("span",{className:"file-status-text"},Le)),React.createElement("div",{className:"file-list"},Ae(new Set(W)).map((function(e){var t=e.id,n=e.name,r=e.size,i=e.type,o=e.error,a=Y.find((function(e){return e.id===t})),l=V.find((function(e){return e.id===t||e.pluploadId===t})),c=ce.find((function(e){return e.id===t})),s=R(e);return React.createElement("div",{key:t,className:"file-list-item ".concat(a?"active":""," ").concat(l?"uploaded":""),id:t},React.createElement("img",{width:32,height:32,src:_(i)}),React.createElement("div",{className:"file-info"},React.createElement("div",{className:"upload-item"},React.createElement("span",{className:"upload-item-name"},s||n),React.createElement("span",{className:"upload-item-size"},"(",plupload.formatSize(r),")"),D&&React.createElement("span",{className:"add-description ".concat(a||c||o?"disabled":""),onClick:function(){if(ue.includes(t)&&l){var n=e.description,r=V.find((function(e){return e.pluploadId===t||e.id===t}));wp.ajax.post("igd_update_description",{id:r.id,accountId:r.accountId,description:n,nonce:L||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"},position:"top-end"})}))}else ue.includes(t)?fe(ue.filter((function(e){return e!==t}))):fe([].concat(Ae(ue),[t]))}},ue.includes(t)&&l?wp.i18n.__("Update Description","integrate-google-drive"):ue.includes(t)?wp.i18n.__("Cancel","integrate-google-drive"):wp.i18n.__("Add Description","integrate-google-drive"))),React.createElement("div",{className:"file-info-percentage"},!!l&&React.createElement("i",{className:"dashicons dashicons-saved"}),!l&&a&&!o&&!c&&React.createElement("div",{className:"igd-spinner"}),!l&&!!a&&!!ne&&React.createElement("span",{className:"percentage"},ne,"%"),!l&&a&&!c&&!o&&React.createElement("i",{className:"dashicons dashicons-controls-pause",onClick:function(){pe.current.stop(),se([].concat(Ae(ce),[e]))}}),!l&&c&&!o&&React.createElement("i",{className:"dashicons dashicons-controls-play",onClick:function(){pe.current.start(),se(ce.filter((function(e){return e.id!==t})))}}),React.createElement(React.Fragment,null,React.createElement("i",{"data-tip":wp.i18n.__("Remove","integrate-google-drive"),"data-for":"remove-file",className:"remove-file dashicons dashicons-no-alt",onClick:function(){if(Q((function(e){return e.filter((function(e){return e.id!==t}))})),ee((function(e){return e.filter((function(e){return e.id!==t}))})),pe.current.removeFile(e),l){J((function(e){return e.filter((function(e){return e.id!==l.id}))}));var n={id:l.id,account_id:l.accountId,nonce:igd.nonce};w&&(n.isWooCommerceUploader=!0,n.wcProductId=S,n.wcOrderId=E,n.wcItemId=y),wp.ajax.post("igd_upload_remove_file",Re(Re({},n),{},{nonce:L||igd.nonce}))}else a&&(pe.current.stop(),re(0),we(e)),pe.current.removeFile(e),pe.current.setOption("url",""),X((function(e){return e.filter((function(e){return e.id!==t}))}))}}),React.createElement(ReactTooltip,{id:"remove-file",effect:"solid",place:"top",className:"igd-tooltip"}))),o?React.createElement("span",{className:"file-info-error"},o):React.createElement("span",{className:"file-info-progress",style:{"--percentage":a?"".concat(ne||2,"%"):0}},React.createElement("span",{className:"file-info-progress-bar"})),ue.includes(t)&&React.createElement("textarea",{className:"file-description",placeholder:wp.i18n.__("Add a description...","integrate-google-drive"),rows:2,disabled:a||c||o,onChange:function(e){var n=e.target.value;Q((function(e){return e.map((function(e){return e.id===t&&(e.description=n),e}))}))}})))}))),!!$.length&&!p&&!w&&!j&&React.createElement("button",{type:"button",className:"igd-btn start-upload",onClick:function(){return Ee($[0])}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),Y.length?wp.i18n.__("Uploading Files...","integrate-google-drive"):wp.i18n.__("Start Upload","integrate-google-drive"))))}const Te=React;var Le=n.n(Te),Be=n(211),De=n.n(Be),Ue=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Me="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ze=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Ke="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ze):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var He=["top","right","bottom","left","width","height","size","weight"],We="undefined"!=typeof MutationObserver,Qe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function a(){Ke(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Me&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),We?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Me&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;He.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),qe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Ve=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ze},Je=et(0,0,0,0);function Ge(e){return parseFloat(e)||0}function Ye(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ge(e["border-"+n+"-width"])}),0)}function Xe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Je;var r=Ve(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Ge(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,l=Ge(r.width),c=Ge(r.height);if("border-box"===r.boxSizing&&(Math.round(l+o)!==t&&(l-=Ye(r,"left","right")+o),Math.round(c+a)!==n&&(c-=Ye(r,"top","bottom")+a)),!function(e){return e===Ve(e).document.documentElement}(e)){var s=Math.round(l+o)-t,d=Math.round(c+a)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(d)&&(c-=d)}return et(i.left,i.top,l,c)}var Ze="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ve(e).SVGGraphicsElement}:function(e){return e instanceof Ve(e).SVGElement&&"function"==typeof e.getBBox};function $e(e){return Me?Ze(e)?function(e){var t=e.getBBox();return et(0,0,t.width,t.height)}(e):Xe(e):Je}function et(e,t,n,r){return{x:e,y:t,width:n,height:r}}var tt=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=et(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=$e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),nt=function(e,t){var n,r,i,o,a,l,c,s=(r=(n=t).x,i=n.y,o=n.width,a=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(l.prototype),qe(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);qe(this,{target:e,contentRect:s})},rt=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ue,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ve(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new tt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ve(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new nt(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),it="undefined"!=typeof WeakMap?new WeakMap:new Ue,ot=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Qe.getInstance(),r=new rt(t,n,this);it.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ot.prototype[e]=function(){var t;return(t=it.get(this))[e].apply(t,arguments)}}));const at=void 0!==ze.ResizeObserver?ze.ResizeObserver:ot;function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lt(e,t,n[t])}))}return e}function dt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft={cursor:"pointer"},pt=function(e){var t=e.index,n=e.onClick,r=e.photo,i=e.margin,o=e.direction,a=e.top,l=e.left,c=e.key,s={margin:i,display:"block"};"column"===o&&(s.position="absolute",s.left=l,s.top=a);return Le().createElement("img",ct({key:c,style:n?st({},s,ft):s},r,{onClick:n?function(e){n(e,{photo:r,index:t})}:null}))},mt=De().shape({key:De().string,src:De().string.isRequired,width:De().number.isRequired,height:De().number.isRequired,alt:De().string,title:De().string,srcSet:De().oneOfType([De().string,De().array]),sizes:De().oneOfType([De().string,De().array])});pt.propTypes={index:De().number.isRequired,onClick:De().func,photo:mt.isRequired,margin:De().number,top:function(e){if("column"===e.direction&&"number"!=typeof e.top)return new Error("top is a required number when direction is set to `column`")},left:function(e){if("column"===e.direction&&"number"!=typeof e.left)return new Error("left is a required number when direction is set to `column`")},direction:De().string};var gt=function(e,t){return t||(t=0),Number(Math.round(e+"e"+t)+"e-"+t)},vt=function(e){var t=e.width,n=e.height;return gt(t/n,2)};function ht(e){this.content=[],this.scoreFunction=e}ht.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var r=this.content.pop();if(n==t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=this.scoreFunction(t);e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=this.scoreFunction(i))break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=2*(e+1),o=i-1,a=null;if(o<t){var l=this.content[o],c=this.scoreFunction(l);c<r&&(a=o)}if(i<t){var s=this.content[i];this.scoreFunction(s)<(null==a?r:c)&&(a=i)}if(null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}};var wt=function(e,t,n){var r=function(e,t,n){var r={},i={},o={};o[t]=0;var a=new ht((function(e){return e.weight}));for(a.push({id:t,weight:0});a.size();){var l=a.pop(),c=l.id;if(!i[c]){var s=e(c)||{};for(var d in i[c]=1,s){var u=l.weight+s[d];(void 0===o[d]||o[d]>u)&&(o[d]=u,a.push({id:d,weight:u}),r[d]=c)}}}if(void 0===o[n])throw new Error("There is no path from ".concat(t," to ").concat(n));return r}(e,t,n);return function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse()}(r,n)},yt=function(e,t,n){return(t-e.length*(2*n))/e.reduce((function(e,t){return e+vt(t)}),0)},bt=function(e,t,n,r,i,o){var a=e.slice(t,n),l=yt(a,r,o);return Math.pow(Math.abs(l-i),2)},_t=function(e){var t=e.containerWidth,n=e.limitNodeSearch,r=e.targetRowHeight,i=e.margin,o=e.photos,a=function(e,t,n,r,i){return function(o){var a={};a[+(o=+o)]=0;for(var l=o+1;l<n.length+1&&!(l-o>r);++l)a[l.toString()]=bt(n,o,l,t,e,i);return a}}(r,t,o,n,i),l=wt(a,"0",o.length);l=l.map((function(e){return+e}));for(var c=1;c<l.length;++c)for(var s=o.slice(l[c-1],l[c]),d=yt(s,t,i),u=l[c-1];u<l[c];++u)o[u].width=gt(d*vt(o[u]),1),o[u].height=d;return o},Et=Le().memo((function(e){var t=e.photos,n=e.onClick,r=e.direction,i=e.margin,o=e.limitNodeSearch,a=e.targetRowHeight,l=e.columns,c=e.renderImage,s=ut((0,Te.useState)(0),2),d=s[0],u=s[1],f=(0,Te.useRef)(null);(0,Te.useLayoutEffect)((function(){var e=null,t=new at((function(t){var n=t[0].contentRect.width;d!==n&&(e=window.requestAnimationFrame((function(){u(Math.floor(n))})))}));return t.observe(f.current),function(){t.disconnect(),window.cancelAnimationFrame(e)}}));var p=function(e,r){var i=r.index;n(e,{index:i,photo:t[i],previous:t[i-1]||null,next:t[i+1]||null})};if(!d)return Le().createElement("div",{ref:f},"Â ");var m,g,v=d-1;"row"===r&&("function"==typeof o&&(o=o(d)),"function"==typeof a&&(a=a(d)),void 0===o&&(o=2,d>=450&&(o=function(e){var t=e.targetRowHeight,n=e.containerWidth;return gt(n/t/1.5)+8}({containerWidth:d,targetRowHeight:a}))),m={display:"flex",flexWrap:"wrap",flexDirection:"row"},g=_t({containerWidth:v,limitNodeSearch:o,targetRowHeight:a,margin:i,photos:t})),"column"===r&&("function"==typeof l&&(l=l(d)),void 0===l&&(l=1,d>=500&&(l=2),d>=900&&(l=3),d>=1500&&(l=4)),m={position:"relative"},g=function(e){for(var t=e.photos,n=e.columns,r=e.containerWidth,i=e.margin,o=(r-2*i*n)/n,a=t.map((function(e){var t=e.height/e.width*o;return st({},e,{width:gt(o,1),height:gt(t,1)})})),l=[],c=[],s=0;s<n;s++)l[s]=gt(s*(o+2*i),1),c[s]=0;var d=a.map((function(e){var t=c.reduce((function(e,t,n){return t<c[e]?n:e}),0);e.top=c[t],e.left=l[t],c[t]=c[t]+e.height+2*i;var n=c.reduce((function(e,t,n){return t>c[e]?n:e}),0);return e.containerHeight=c[n],e}));return d}({containerWidth:v,columns:l,margin:i,photos:t}),m.height=g[g.length-1].containerHeight);var h=c||pt;return Le().createElement("div",{className:"react-photo-gallery--gallery"},Le().createElement("div",{ref:f,style:m},g.map((function(e,t){var o=e.left,a=e.top,l=e.containerHeight,c=dt(e,["left","top","containerHeight"]);return h({left:o,top:a,key:e.key||e.src,containerHeight:l,index:t,margin:i,direction:r,onClick:n?p:null,photo:c})}))))}));Et.propTypes={photos:De().arrayOf(mt).isRequired,direction:De().string,onClick:De().func,columns:De().oneOfType([De().func,De().number]),targetRowHeight:De().oneOfType([De().func,De().number]),limitNodeSearch:De().oneOfType([De().func,De().number]),margin:De().number,renderImage:De().func},Et.defaultProps={margin:2,direction:"row",targetRowHeight:300};const Rt=Et;var St=React.useContext;function At(){var e=St(t),n=e.isUpload,r=e.permissions,i=e.setIsUpload,o=e.isShortcodeBuilder,a=e.shortcodeBuilderType,l=e.files,c=!o&&(!a||"browser"===a)&&(!r||r.upload),s=wp.i18n.__("There are no items here.","integrate-google-drive"),d=wp.i18n.__("The folder is empty.","integrate-google-drive");return o&&l.length&&(s=wp.i18n.__("No items available for selection.","integrate-google-drive"),d=wp.i18n.__("This folder doesn't contain any selectable items.","integrate-google-drive")),React.createElement("div",{className:"igd-root-placeholder empty-folder-placeholder ".concat(n?"igd-hidden":"")},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/empty-folder-placeholder.svg"),alt:"Empty Folder"}),React.createElement("span",{className:"igd-root-placeholder-title"},s),React.createElement("span",{className:"igd-root-placeholder-text"},d),c&&React.createElement("button",{type:"button",className:"igd-btn btn-primary uploader-btn",onClick:function(){return i(!0)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),wp.i18n.__("Upload Files","integrate-google-drive")))}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){var r;return r=function(e,t){if("object"!=Ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ot(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var It=React,Tt=It.useEffect,Lt=It.useState,Bt=It.useContext,Dt=igd.settings.rememberLastFolder,Ut=void 0===Dt||Dt,Mt=function(e){var t=e.id,n=e.activeFiles,r=e.setActiveFiles,i=e.files;return React.createElement("div",{className:"item-selection",onClick:function(e){e.stopPropagation(),n.find((function(e){return e.id===t}))?r((function(e){return e.filter((function(e){return e.id!==t}))})):r((function(e){return[].concat(kt(e),[i.find((function(e){return e.id===t}))])}))}},React.createElement("svg",{fill:"#FFFFFFB2",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("radialGradient",{id:"shadow",cx:"38",cy:"95.488",r:"10.488",gradientTransform:"matrix(1 0 0 -1 -26 109)",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:".832",stopColor:"#010101"}),React.createElement("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})),React.createElement("circle",{opacity:".26",fill:"url(#shadow)",cx:"12",cy:"13.512",r:"10.488"}),React.createElement("circle",{fill:"#FFF",cx:"12",cy:"12.2",r:"8.292"}),React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))};function zt(){var e=Bt(t),n=e.galleryLayout,r=e.galleryColumns,i=e.galleryAspectRatio,o=e.galleryHeight,a=e.galleryMargin,l=e.galleryView,c=e.galleryFolderView,s=e.galleryOverlay,d=e.overlayDisplayType,u=e.galleryOverlayTitle,f=e.galleryOverlayDescription,p=e.galleryOverlaySize,m=e.galleryImageSize,g=e.galleryCustomSizeWidth,v=e.galleryCustomSizeHeight,h=e.activeAccount,w=e.files,_=e.listFiles,E=e.breadcrumbs,R=e.initFolders,S=e.setFiles,O=e.activeFolder,F=e.setActiveFolder,j=e.permissions,T=e.setActiveFiles,L=e.activeFiles,B=e.selectAll,D=e.isLoading,U=e.initParentFolder,z=e.notifications,K=e.nonce,H=Nt(Lt({}),2),W=H[0],Q=H[1],q=!!E&&Object.keys(E),V=Nt(Lt([]),2),J=V[0],G=V[1],Y=Nt(Lt([]),2),X=Y[0],Z=Y[1];Tt((function(){if(!w.length)return G([]),void Z([]);var e=w.filter((function(e){return b(e)||["root","shared","computers","starred","shared-drives"].includes(e.id)}));G(e);var t=w.filter((function(e){return x(e)||A(e)})).map((function(e){var t=e.id,r=e.accountId,i=e.type,o=e.description,a=e.name,l=e.size,c=e.metaData,s=void 0===c?{}:c,d={id:t,accountId:r,type:i,name:a,description:o,size:l,src:N(e,m,{w:g,h:v})};return"grid"!==n&&(s.width&&!A(e)||(s.width=600),s.height&&!A(e)||(s.height=400),d.width=s.width,d.height=s.height),d}));Z(t)}),[w]),Tt((function(){J.length&&"title"!==c&&J.forEach((function(e){C(e.id,h)||$(e)}))}),[J,h]);var $=function(e){function t(e,t){var n=jQuery(e);setTimeout((function(){e.dataset.intervalId&&clearInterval(e.dataset.intervalId),e.dataset.intervalId=setInterval((function(){var e=n.find("img"),t=e.filter(".active").length?e.filter(".active"):e.first();if(t.length){var r=t.next().length?t.next():e.first();e.removeClass("active"),r.addClass("active")}}),3e3)}),1500*t)}wp.ajax.post("igd_get_files",{data:{folder:e},nonce:K||igd.nonce}).done((function(n){var r=n.files,i=n.error;if(i)Swal.fire({html:i,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var o=r.filter((function(e){return x(e)||A(e)}));o=o.slice(0,10),Q((function(t){return Ct(Ct({},t),{},Ft({},e.id,o))})),document.querySelectorAll(".igd-gallery-folder-images").forEach(t)}})).fail((function(e){return console.log(e)}))},ee=P();Tt((function(){if(ee)if(B){T(B?w.filter((function(e){return!(b(e)&&!j.folderDownload)})):[]);var e=X.map((function(e){return Ct(Ct({},e),{},{isSelected:!0})}));Z(e)}else{T([]);var t=X.map((function(e){return Ct(Ct({},e),{},{isSelected:!1})}));Z(t)}}),[B]);var te=function(){var e=window.innerWidth;return e<768?r.xs:e<992?r.sm:e<1200?r.md:e<1600?r.lg:e>=1920?r.xl:r.md},ne=Nt(Lt(te()),2),re=ne[0],ie=ne[1];return Tt((function(){var e=function(){ie(te())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"igd-module-gallery gallery-view-".concat(l," gallery-layout-").concat(n),style:{"--column-width":"calc(".concat(100/re,"% - ").concat(2*a,"px)"),"--aspect-ratio":"".concat(i)}},React.createElement("div",{className:"file-list"},!!q.length&&!!O&&React.createElement("div",{className:"go-prev file-item folder-item",style:{margin:"".concat(a,"px")},onClick:function(e){if(q.length>1){var t=q[q.length-2],n={id:t,name:E[t],accountId:h.id};_(n)}else if(F(""),S(R),Ut){var r=M(R,U);r&&sessionStorage.removeItem(r)}}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!J.length&&J.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=L.find((function(e){return e.id===t})),o=null==r?void 0:r.replace("/16/","/64/");return React.createElement("div",{key:t,className:"file-item ".concat(i?"active":""," ").concat("title"===c?"folder-item":""),style:{margin:"".concat(a,"px")},onClick:function(){return _(e)}},(j.download&&j.zipDownload&&j.folderDownload||j.photoProof)&&React.createElement(Mt,{id:t,activeFiles:L,setActiveFiles:T,files:w}),"thumbnail"===c&&React.createElement("div",{className:"igd-gallery-folder-images"},W[t]&&W[t].length>0?W[t].map((function(e,t){var n=e.id,r=e.name,i=N(e,m,{w:g,h:v});return React.createElement("img",{key:n,className:"".concat(0===t?"active":""),onError:function(e){e.target.src=o},src:i,alt:r,referrerPolicy:"no-referrer"})})):React.createElement("img",{className:"active",src:o,alt:n,referrerPolicy:"no-referrer"})),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},C(t,h)?React.createElement("i",{className:"file-icon dashicons ".concat(o," footer-icon")}):React.createElement("img",{className:"file-icon",src:o,alt:n,referrerPolicy:"no-referrer"})),React.createElement("span",null,n)))}))),React.createElement(Rt,{photos:X,margin:parseInt(a),targetRowHeight:"justified"===n&&o,columns:re,direction:"masonry"===n?"column":"row",renderImage:function(e){var t=e.photo,n=e.margin,r=e.direction,i=e.top,o=e.left,a=t.name,l=t.description,c=t.src,m=t.size,g=t.id,v=t.accountId,h=t.width,b=t.height,_={display:"block",margin:"".concat(n,"px"),width:"".concat(h,"px"),height:"".concat(b,"px")};"column"===r&&(_.position="absolute",_.left="".concat(o,"px"),_.top="".concat(i,"px"));var E=L.find((function(e){return e.id===g}));return React.createElement("div",{className:"igd-gallery-item ".concat(E?"active":""),style:_,onClick:function(e){return function(e,t){I(e,t,w.filter((function(e){return x(e)||A(e)})),j,z,!0)}(e,g)}},(j.download&&j.zipDownload||j.photoProof)&&React.createElement(Mt,{id:g,activeFiles:L,setActiveFiles:T,files:w}),React.createElement("img",{src:c,alt:a,referrerPolicy:"no-referrer",onError:function(e){e.target.src=k({id:g,accountId:v},"medium")}}),A(t)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),!!s&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(d)},!!u&&React.createElement("div",{className:"overlay-title"},a),!!f&&!!l&&React.createElement("p",{className:"overlay-description"},l),!!p&&React.createElement("span",{className:"overlay-size"},y(m))))}})),ee&&!D&&!J.length&&!X.length&&React.createElement(At,null))}function Kt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/computers-placeholder.svg"),alt:"Computers"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Computers Syncing","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The files synced with computers will display here.","integrate-google-drive")))}function Ht(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-placeholder.svg"),alt:"Shared Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Shared With Me","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Files and folders others have shared with you.","integrate-google-drive")))}function Wt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/starred-placeholder.svg"),alt:"Starred Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Nothing is starred","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Adds star to files and folders that you want to find easily later.","integrate-google-drive")))}function Qt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-drives-placeholder.svg"),alt:"Shared Drives"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Shared Drives","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The Drives others have shared with you.","integrate-google-drive")))}function qt(e){var t=e.activeFolder.id;return React.createElement(React.Fragment,null,"computers"===t&&React.createElement(Kt,null),"shared-drives"===t&&React.createElement(Qt,null),"shared"===t&&React.createElement(Ht,null),"starred"===t&&React.createElement(Wt,null))}function Vt(e){var t=e.isSearchResults,n=e.searchBoxText;return React.createElement("div",{className:"igd-root-placeholder search-placeholder ".concat(t?"empty-placeholder":"")},t&&React.createElement("svg",{width:100,height:100,className:"igd-placeholder-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 259 223",fill:"none"},React.createElement("g",{clipPath:"url(#clip0_1110_10155)"},React.createElement("path",{d:"M127.836 80.9443C127.836 103.828 127.836 126.64 127.836 149.523C127.836 157.696 124.072 161.391 115.905 161.391C81.2469 161.391 46.5181 161.391 11.8603 161.391C3.97712 161.391 0.07102 157.553 0.07102 149.665C0.07102 116.264 0.14204 82.8631 0 49.462C0 46.4062 1.0653 46.0509 3.62202 46.1219C12.4995 46.2641 21.377 46.193 30.2545 46.193C40.4104 46.193 46.092 40.4367 46.163 30.4164C46.163 21.3199 46.234 12.1524 46.092 3.05595C46.092 0.923972 46.3761 0.000114277 48.8618 0.0711803C71.5882 0.213312 94.3146 0.142246 117.041 0.142246C123.788 0.142246 127.836 4.19301 127.836 11.0153C127.907 34.2539 127.836 57.6346 127.836 80.9443ZM65.6935 103.046C76.9147 103.046 88.2069 103.046 99.428 103.046C103.689 103.046 105.891 101.34 105.891 98.2133C105.891 95.2285 103.689 93.4519 99.6411 93.4519C77.2698 93.4519 54.8985 93.4519 32.5272 93.4519C28.479 93.4519 26.2774 95.1575 26.2064 98.1423C26.1354 101.198 28.479 103.046 32.5982 103.046C43.6773 103.046 54.6854 103.046 65.6935 103.046ZM66.1196 67.6549C55.0405 67.6549 43.8904 67.6549 32.8112 67.6549C28.6211 67.6549 26.2774 69.3605 26.2774 72.4164C26.2774 75.4722 28.55 77.3199 32.7402 77.3199C54.9695 77.3199 77.1277 77.3199 99.357 77.3199C103.618 77.3199 105.891 75.6143 105.891 72.5585C105.891 69.4316 103.618 67.726 99.428 67.726C88.2779 67.6549 77.1988 67.6549 66.1196 67.6549ZM48.6487 117.756C43.1091 117.756 37.5696 117.685 32.03 117.756C28.266 117.756 26.2064 119.533 26.2774 122.518C26.2774 125.361 28.55 127.208 32.101 127.208C43.0381 127.208 54.0462 127.208 64.9833 127.208C68.5343 127.208 70.807 125.218 70.807 122.447C70.807 119.604 68.5343 117.828 64.9123 117.756C59.5148 117.756 54.0462 117.756 48.6487 117.756Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M148.999 101.482C148.999 124.081 148.999 146.751 148.999 169.35C148.999 178.376 145.377 182 136.287 182C101.984 182 67.6104 182 33.3077 182C24.6433 182 20.4531 177.452 21.1633 168.924C21.3053 167.574 21.5894 166.934 23.0098 167.076C23.72 167.147 24.4302 167.076 25.1404 167.076C55.3239 167.076 85.5074 167.076 115.691 167.076C127.409 167.076 133.588 160.894 133.588 149.097C133.588 107.523 133.659 65.9494 133.517 24.3758C133.517 21.2489 134.298 20.4672 137.352 20.5383C145.164 20.8225 148.999 24.518 148.999 32.4774C148.999 55.5027 148.999 78.5281 148.999 101.482Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M40.4817 18.6906C40.4817 22.9545 40.5527 27.2185 40.4817 31.4825C40.4106 36.9545 37.0727 40.4368 31.6752 40.5078C22.9397 40.5789 14.1332 40.5078 5.39776 40.5078C3.19614 40.5078 1.42064 39.8682 0.568403 37.6652C-0.212817 35.6043 0.710443 34.0408 2.13084 32.5484C12.2157 22.4571 22.3005 12.3657 32.4564 2.27433C33.9478 0.781945 35.5813 -0.355111 37.7829 0.639812C39.9135 1.56367 40.4817 3.34032 40.4817 5.54337C40.4106 9.87839 40.4817 14.2845 40.4817 18.6906Z",fill:"#C1E9C9"})),React.createElement("g",{clipPath:"url(#clip1_1110_10155)"},React.createElement("path",{d:"M148.9 79.6302C120.227 79.6302 91.6528 79.6302 62.9789 79.6302C51.4894 79.6302 46.8936 84.6083 48.4922 96.058C53.3877 132.199 58.4831 168.241 63.5784 204.382C64.5775 211.252 69.1733 214.935 76.9662 214.935C99.4456 215.035 121.925 214.935 144.405 214.935C169.382 214.935 194.359 214.935 219.336 214.935C221.035 214.935 222.633 214.935 224.332 215.234C226.33 215.632 227.529 217.026 227.529 219.117C227.429 221.208 226.23 222.502 224.232 222.801C222.733 223 221.234 222.9 219.736 222.9C172.779 222.9 125.822 222.9 78.8644 222.9C64.2778 222.9 57.484 217.126 55.4858 202.789C50.1906 166.747 45.1952 130.606 40.1997 94.5646C38.801 84.3096 44.4958 75.5482 54.5866 72.4617C56.2851 71.9639 57.2841 71.6652 57.7837 69.5744C59.682 62.3064 63.6783 59.6182 71.7709 59.5186C95.2495 59.5186 118.728 59.4191 142.207 59.6182C145.603 59.6182 147.801 58.8217 149.2 55.6357C150.199 53.2462 151.698 50.9563 153.097 48.7659C156.094 43.8873 160.49 41.0996 166.285 41.0996C187.465 41 208.546 40.9005 229.727 41.0996C236.62 41.1991 241.116 46.0777 241.416 52.8479C241.516 55.1379 241.516 57.5274 241.416 59.8173C241.216 66.3884 240.417 72.163 249.409 75.1499C256.902 77.639 259.799 85.7035 258.8 93.7681C255.203 121.347 251.207 148.926 247.411 176.504C247.011 179.292 245.912 181.582 242.915 181.283C239.418 180.985 239.018 178.197 239.418 175.31C241.916 157.588 244.413 139.865 246.811 122.143C248.21 112.486 249.609 102.828 250.807 93.0711C251.607 86.4005 247.411 80.9245 240.817 79.9289C238.818 79.6302 236.82 79.6302 234.822 79.6302C206.248 79.6302 177.574 79.6302 148.9 79.6302Z",fill:"#2FB44B"}),React.createElement("path",{d:"M225.431 149.025C225.331 153.904 223.632 161.072 219.536 167.444C218.037 169.834 218.237 171.228 220.235 173.219C230.126 182.777 239.818 192.634 249.509 202.391C253.205 206.074 253.705 209.659 251.007 212.347C248.31 215.035 244.813 214.537 241.116 210.853C231.525 201.395 222.034 191.937 212.542 182.379C210.444 180.188 209.046 179.491 206.048 181.383C190.962 191.14 171.48 190.144 157.593 179.292C143.605 168.34 138.11 150.22 143.506 133.394C148.901 116.667 164.486 105.118 182.57 104.521C205.549 103.724 225.431 123.039 225.431 149.025ZM183.569 176.106C200.254 176.007 213.542 162.566 213.342 145.939C213.242 129.71 199.454 116.269 183.269 116.468C166.684 116.568 153.297 130.208 153.496 146.735C153.596 163.063 167.084 176.206 183.569 176.106Z",fill:"#2FB44B"}),React.createElement("path",{d:"M107.738 171.427C112.933 171.427 118.029 171.228 123.224 171.427C128.519 171.626 131.316 174.613 131.516 179.89C131.616 182.18 131.616 184.569 131.516 186.859C131.316 191.937 128.519 195.023 123.524 195.222C112.933 195.421 102.243 195.421 91.6526 195.222C86.6572 195.123 83.8598 191.937 83.56 186.959C83.4601 184.967 83.56 182.976 83.56 180.985C83.6599 174.215 86.3575 171.526 93.3511 171.427C98.0468 171.327 102.842 171.327 107.738 171.427Z",fill:"#2FB44B"}),React.createElement("circle",{cx:"183",cy:"146",r:"30",fill:"white"}),React.createElement("rect",{width:"26.9682",height:"2.81029",transform:"matrix(0.708463 0.705748 0.708463 -0.705748 172.83 137.269)",fill:"#2FB44B"}),React.createElement("rect",{width:"27.6664",height:"2.81029",transform:"matrix(-0.708463 0.705748 0.708463 0.705748 191.885 135.286)",fill:"#2FB44B"})),React.createElement("defs",null,React.createElement("clipPath",{id:"clip0_1110_10155"},React.createElement("rect",{width:"149",height:"182",fill:"white"})),React.createElement("clipPath",{id:"clip1_1110_10155"},React.createElement("rect",{width:"219",height:"182",fill:"white",transform:"translate(40 41)"})))),t?React.createElement("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("No results found!","integrate-google-drive")):React.createElement("h3",{className:"igd-root-placeholder-title"},n),!t&&React.createElement(ee,null))}var Jt=React.useContext;function Gt(){var e=Jt(t),n=e.files,r=e.searchKeywordRef,i=e.isSearch,o=e.activeFolder,a=n.length?n.length:wp.i18n.__("No","integrate-google-drive"),l=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(r.current,"</strong>"),a);return React.createElement("div",{className:"search-result-info"},(!i||!o)&&React.createElement("span",{dangerouslySetInnerHTML:{__html:l}}),React.createElement("button",{onClick:function(e){var t=e.target.closest(".igd-file-browser").querySelector(".search-dismiss");t&&t.click()},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function Yt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zt=React.useMemo,$t="...",en=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))};const tn=function(e){var t=e.onPageChange,n=e.pageCount,r=e.siblingCount,i=void 0===r?1:r,o=e.currentPage,a=void 0===o?1:o,l=e.className,c=function(e){var t=e.pageCount,n=e.siblingCount,r=void 0===n?1:n,i=e.currentPage;return Zt((function(){if(r+5>=t)return en(1,t);var e=Math.max(i-r,1),n=Math.min(i+r,t),o=e>2,a=n<t-2,l=1,c=t;if(!o&&a){var s=en(1,2+2*r);return[].concat(Yt(s),[$t,t])}if(o&&!a){var d=en(t-(2+2*r)+1,t);return[l,$t].concat(Yt(d))}if(o&&a){var u=en(e,n);return[l,$t].concat(Yt(u),[$t,c])}}),[t,r,i])}({pageCount:n,siblingCount:i,currentPage:a});if(0===a||(null==c?void 0:c.length)<2)return null;var s=c[(null==c?void 0:c.length)-1];return React.createElement("ul",{className:"pagination-container ".concat(l||"")},React.createElement("li",{className:"pagination-item ".concat(1===a?"disabled":""),onClick:function(){return 1!==a&&void t(a-1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.787 490.787"},React.createElement("pat",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}),React.createElement("path",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}))),c.map((function(e){return e===$t?React.createElement("li",{key:e,className:"pagination-item dots"},"â€¦"):React.createElement("li",{key:e,className:"pagination-item ".concat(e===a?"selected":""),onClick:function(){return t(e)}},e)})),React.createElement("li",{className:"pagination-item ".concat(a===s?"disabled":""),onClick:function(){return a!==s&&void t(a+1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.8 490.8"},React.createElement("path",{d:"M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"}),React.createElement("path",{d:"M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"}))))};function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e){return function(e){if(Array.isArray(e))return on(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){var r;return r=function(e,t){if("object"!=nn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nn(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn=React,dn=sn.useEffect,un=sn.useRef,fn=sn.useContext;function pn(){var e=document.querySelector(".igd-tutor-attachment-modal"),n=igd.settings,r=n.preloader,i=void 0===r?"default":r,o=n.rememberLastFolder,a=void 0===o||o,l=fn(t),c=l.isLoading,s=l.activeAccount,d=l.initFolders,u=l.initParentFolder,f=l.files,p=void 0===f?[]:f,m=l.setFiles,g=l.activeFiles,h=l.setActiveFiles,w=l.breadcrumbs,_=l.activeFolder,E=l.setActiveFolder,R=l.isShortcodeBuilder,A=l.selectedFolders,O=l.setSelectedFolders,x=l.isList,F=l.showLastModified,j=l.showFileSizeField,P=l.shortcodeBuilderType,T=l.isUpload,L=l.permissions,B=l.isSearchResults,D=l.isMobile,U=l.setIsOptions,z=l.listFiles,K=l.show,H=l.hideAll,Q=l.isSelectFiles,q=l.selectionType,V=l.setActiveFile,J=l.isLMS,G=l.isWooCommerce,Y=l.getFiles,X=l.notifications,Z=l.lazyLoad,$=l.lazyLoadNumber,ee=l.lazyLoadType,te=l.searchBoxText,ne="browser"===P,re="uploader"===P,ie="gallery"===P,oe="embed"===P,ae="search"===P,le="media"===P,ce="view"===P,se="download"===P,de="slider"===P,ue=re&&A.length;A&&A.length&&Q&&["single","parent","template"].includes(q)&&(ue=!0);var fe=[!!ne,!!le,!!de,!!ie,!!oe,!!ce,!!se,!!J,!!G,!!Q&&!q].includes(!0),pe=!(!_||C(_.id,s)&&"root"!==_.id),ge=un(),he=function(e,t){var n=v(React.useState(t?"igd-item-col-1":"igd-item-col-4"),2),r=n[0],i=n[1];function o(e){if(t)i("igd-item-col-1");else{var n=e[0].contentRect.width,r={1:320,2:480,3:768,4:992,5:1200,6:1520},o="";if(n>1520)o="igd-item-col-6";else for(var a in r)if(n<r[a]){o="igd-item-col-".concat(a);break}i(o)}}return React.useEffect((function(){if(e.current){var t=new ResizeObserver(o);return t.observe(e.current),function(){t.disconnect()}}}),[e,t]),r}(ge,x);!Z||"scroll"!==ee||!R&&ae||function(e,t,n,r,i,o,a){React.useEffect((function(){var a=e.current;if(a&&!n&&!i&&r&&r.pageNumber&&!(r.pageNumber<1)){var l=document.body.classList.contains("block-editor-page"),c=document.body.classList.contains("elementor-editor-active"),s=document.body.classList.contains("et-fb");if(!(l||c||s)||o){var d=function(e){for(var t=e.parentElement,n=null;t;)"div"===t.nodeName.toLowerCase()&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(n=t),t=t.parentElement;return n}(a),u=d?d.scrollTop:window.pageYOffset,f=function(){var e=d?d.scrollTop:window.pageYOffset,n=e>u;if(u=e,n)if(d)d.scrollHeight-e<=d.clientHeight&&t(r,"lazy");else{var i=a.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;i.bottom<=o+5&&t(r,"lazy")}},p=d||window;return p.addEventListener("scroll",f),function(){p.removeEventListener("scroll",f)}}}}),[e,t,n,r])}(ge,Y,c,_,B,R);var we=w?Object.keys(w):[],ye=!1;Z&&"pagination"!==ee&&(null==_?void 0:_.pageNumber)>0&&p.length<((null==_?void 0:_.pageNumber)-1)*$&&E(ln(ln({},_),{},{pageNumber:0}));var be=un(!1);return dn((function(){if(!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&p.length&&"undefined"!=typeof DragSelect&&ge.current){var e=new DragSelect({selectables:ge.current.querySelectorAll(".file-item"),area:ge.current.querySelector(".file-list"),draggability:!1});return e.subscribe("DS:update",(function(){be.current=!0})),e.subscribe("DS:end",(function(e){var t=e.items;setTimeout((function(){if(t.length&&be.current){var e=t.map((function(e){return p.find((function(t){return t.id===e.getAttribute("data-id")}))}));R?O(e):h(e)}be.current=!1}),50)})),function(){e.unsubscribe("DS:update"),e.unsubscribe("DS:end"),e.stop()}}}),[p]),React.createElement("div",{ref:ge,className:"igd-body ".concat(c?"lazy"===c&&"pagination"!==ee?"lazy-loading":"loading":"")},(B||ae&&!R&&_)&&!c&&React.createElement(Gt,null),(!ie||R)&&React.createElement("div",{className:"file-list ".concat(x?"list-view":""," ").concat(he," ").concat(p.length||C(_,s)?"":"empty"),onClick:function(){if(!be.current){var e=document.querySelector(".igd-context-menu")?300:0;setTimeout((function(){V(null),h([])}),e)}},onContextMenu:function(e){e.preventDefault(),U(!1),h([]),C(_.id,s)&&"root"!==_.id||(V(_),K(e))}},!ie&&x&&!!p.length&&(F||j)&&React.createElement("div",{className:"list-view-header"},React.createElement("span",{className:"col-name"},wp.i18n.__("Name","integrate-google-drive")),j&&React.createElement("span",{className:"col-size"},wp.i18n.__("Size","integrate-google-drive")),F&&React.createElement("span",{className:"col-modified"},wp.i18n.__("Modified","integrate-google-drive"))),(!_||!_&&!!d)&&(!ae||R)&&!B&&React.createElement(ve,null),(!ae||R)&&!!_&&!!we.length&&React.createElement("div",{className:"go-prev file-item folder-item",onClick:function(e){if(V(null),d){if(we.length>1){var t=we[we.length-2],n=[we[we.length-3]],r={id:t,name:w[t],accountId:s.id,parents:n};z(r)}else if(E(null),m(d),a){var i=M(d,u);i&&sessionStorage.removeItem(i)}}else if(we.length>1){var o=we[we.length-2],l=[we[we.length-3]],c={id:o,name:w[o],accountId:s.id,parents:l};z(c)}else m([]),E(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!p.length&&p.map((function(t,n){var r=t.id,i=t.name,o=t.type,a=t.iconLink,l=void 0===a?"":a,c=t.thumbnailLink,s=t.size,d=t.updated;if(r){var u=b(t),f=g.find((function(e){return e.id===r})),m=A&&!!A.find((function(e){return e.id===r})),v=R&&(fe||u)&&(!J||!u)&&(!e||!u);ue&&(v=(A[0].id||A[0])===r);var w=null==l?void 0:l.replace("/16/","/64/"),_=N(t,"small"),E=!ye&&u&&!p.slice(n+1).some(b);return E&&(ye=!0),React.createElement(React.Fragment,null,E&&!x&&React.createElement("div",{className:"folder-file-divider"}),React.createElement("div",{key:r,"data-id":r,className:"file-item ".concat(u?"folder-item":"","  ").concat(E?"folder-item-last":""," ").concat(f||m?"active":""),onClick:function(e){e.stopPropagation(),H(),D?u?z(t):R?O([].concat(rn(A),[t])):(V(t),I(e,r,p,L,X)):(e.detail&&1!=e.detail||R?u?z(t):R&&v&&O(m?rn(A.filter((function(e){return e.id!=t.id}))):[].concat(rn(A),[t])):(e.ctrlKey||e.shiftKey||e.metaKey)&&!re?h((function(e){return e.find((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[].concat(rn(e),[t])})):u?z(t):(V(t),I(e,r,p,L,X)),console.log(t))},onDoubleClick:function(e){e.stopPropagation(),R||(u?z(t):(V(t),I(e,r,p,L,X)))},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),H(),U(!1),t["shared-drives"]||R||(h([t]),V(t),K(e))},title:i},!u&&!x&&React.createElement("img",{src:_,alt:i,loading:"lazy",className:"igd-file-thumbnail ".concat(c?"has-thumbnail":""),referrerPolicy:"no-referrer",onError:function(e){e.target.src=k(t,"medium")}}),!x&&S(t)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},React.createElement("img",{className:"file-icon",referrerPolicy:"no-referrer",src:w,alt:"icon"}),"application/vnd.google-apps.shortcut"===o&&React.createElement("svg",{className:"shortcut-icon",viewBox:"0 0 16 16",fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px"},React.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"white"}),React.createElement("path",{d:"M10,3H6V4H8.15A5,5,0,0,0,10,13V12A4,4,0,0,1,9,4.65V7h1Z",fill:"#5F6368"})),!R&&(!L||L.download&&L.zipDownload&&(!u||L.folderDownload))&&React.createElement("span",{className:"file-item-checkbox ".concat(f?"checked":""),onClick:function(e){e.stopPropagation(),V(null),h(f?function(e){return e.filter((function(e){return e.id!==t.id}))}:[].concat(rn(g),[t]))}},React.createElement("span",{className:"box"}))),React.createElement("span",{className:"file-item-name"},i),j&&(x?React.createElement("span",{className:"file-item-size"},s?y(s):"â€”"):(!L||L.download)&&!u&&!!s&&React.createElement("span",{className:"file-item-size"},y(s))),!R&&(!L||L.download&&(!u||L.folderDownload)||L.details||L.delete||L.rename||L.move||L.copy||L.edit||L.preview)&&React.createElement("span",{className:"file-item-options",onClick:function(e){e.stopPropagation(),U(!1),V(t),K(e)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"}))),x&&F&&React.createElement("span",{className:"file-item-date"},W(d,!0)),v&&React.createElement(me,{file:t,isSelected:m,selectedFolders:A,setSelectedFolders:O,isList:x})))}}))),!R&&ie&&React.createElement(zt,null),!!p.length&&Z&&"button"===ee&&(null==_?void 0:_.pageNumber)>0&&React.createElement("button",{className:"igd-btn btn-primary igd-load-more ".concat(p.length?"":"igd-hidden"),onClick:function(e){e.stopPropagation(),Y(_,"lazy")}},c&&React.createElement("span",{className:"igd-spinner"}),c?wp.i18n.__("Loading...","integrate-google-drive"):wp.i18n.__("Load more","integrate-google-drive")),!!p.length&&Z&&"pagination"===ee&&(null==_?void 0:_.count)>$&&React.createElement(tn,{className:"igd-pagination",pageCount:Math.ceil((null==_?void 0:_.count)/$),currentPage:(null==_?void 0:_.pageNumber)||1,onPageChange:function(e){E(ln(ln({},_),{},{pageNumber:e})),Y(ln(ln({},_),{},{pageNumber:e}),"lazy");var t=ge.current.closest(".igd-file-browser");t&&t.scrollIntoView({behavior:"smooth"})}}),!c&&(d||_&&(!C(_.id,s)||"root"===_.id))&&!p.length&&(R||!ie)&&(R||!ae)&&!B&&React.createElement(At,null),!ae&&!B&&!R&&!ie&&pe&&T&&React.createElement(Ie,null),!B&&!c&&!p.length&&_&&C(_.id,s)&&React.createElement(qt,{activeFolder:_}),!c&&(!R&&ae||B)&&!p.length&&React.createElement(Vt,{isSearchResults:B,searchBoxText:te}),c&&React.createElement("div",{className:"loading-wrap"},igd.settings.customPreloader?React.createElement("img",{src:igd.settings.customPreloader,alt:"Loading..."}):React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/").concat(i,".svg"),alt:"Loading..."})))}function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function gn(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){var r;return r=function(e,t){if("object"!=mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mn(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En=React,Rn=En.useContext,Sn=En.useState,An=En.useEffect;function On(){var e,n,r,i,o=Rn(t),a=o.files,l=o.activeAccount,c=o.activeFile,s=o.setShowDetails,d=o.activeFolder,u=o.setFiles,f=o.listFiles,p=o.setAllFiles,m=o.initParentFolder,g=o.initFolders,v=o.nonce,h=yn(Sn(null),2),b=h[0],_=h[1],E=b||{},R=E.id,S=E.accountId,A=E.name,O=E.iconLink,x=E.type,F=E.size,N=E.owner,k=E.updated,j=E.created,P=E.description,I=E.parents,T=yn(Sn(null),2),L=T[0],B=T[1],D=yn(Sn(!1),2),U=D[0],M=D[1],z=yn(Sn(""),2),K=z[0],H=z[1];An((function(){_(null),c?_(c):d&&!C(d.id,l)&&_(d)}),[c,d]),An((function(){if(null!=b&&b.parents){var e=b.parents[0];(null==d?void 0:d.id)!==e?(B("loading"),wp.ajax.post("igd_get_file",{id:e,accountId:S,nonce:v||igd.nonce}).done((function(e){B(e)})).fail((function(e){console.log(e),B(null)}))):B(d)}else B(null)}),[b,d]);var Q=null==O?void 0:O.replace("/16/","/64/"),q=[{key:"type",label:wp.i18n.__("Type","integrate-google-drive"),value:w(x)},{key:"size",label:wp.i18n.__("Size","integrate-google-drive"),value:F&&y(F)},{key:"owner",label:wp.i18n.__("Owner","integrate-google-drive"),value:N},{key:"updated",label:wp.i18n.__("Updated","integrate-google-drive"),value:k&&W(k)},{key:"created",label:wp.i18n.__("Created","integrate-google-drive"),value:j&&W(j)}];return An((function(){return e=jQuery(".igd-details-wrap"),t=e.parents(".igd-file-browser").find(".igd-body"),n="calc(100% - ".concat(e.outerWidth(),"px)"),t.css("width",n),function(){t.css("width","100%")};var e,t,n}),[]),React.createElement("div",{className:"igd-details-wrap"},React.createElement("div",{className:"igd-details"},React.createElement("i",{className:"close-details dashicons dashicons-no",onClick:function(){s(!1),localStorage.removeItem("igd_show_details")}}),b&&!C(b.id,l)?React.createElement(React.Fragment,null,React.createElement("div",{className:"details-item name"},React.createElement("img",{src:Q}),React.createElement("span",null,A)),q.map((function(e){var t=e.key,n=e.label,r=e.value;if(r)return React.createElement("div",{key:t,className:"details-item field-".concat(t)},React.createElement("span",{className:"details-item-label"},n),React.createElement("span",{className:"details-item-value"},r))})),(null==b||null===(e=b.imageMediaMetadata)||void 0===e?void 0:e.width)&&(null==b||null===(n=b.imageMediaMetadata)||void 0===n?void 0:n.height)&&React.createElement("div",{className:"details-item field-dimension"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Dimension","integrate-google-drive")),React.createElement("span",{className:"details-item-value"},null==b||null===(r=b.imageMediaMetadata)||void 0===r?void 0:r.width," x ",null==b||null===(i=b.imageMediaMetadata)||void 0===i?void 0:i.height)),!(null==I||!I.length)&&d&&d.id!==(null==m?void 0:m.id)&&React.createElement("div",{className:"details-item field-location"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Location","integrate-google-drive")),L&&React.createElement("div",{className:"details-item-value"},"loading"===L?React.createElement("span",{className:"igd-spinner"}):React.createElement("div",{className:"location-wrap",onClick:function(){f(L)}},React.createElement("img",{src:L.iconLink}),React.createElement("span",null,L.name)))),((null==b?void 0:b.description)||!g)&&React.createElement("div",{className:"details-item field-description"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Description","integrate-google-drive")),!g&&React.createElement("i",{className:"dashicons ".concat(U?"dashicons-saved":"dashicons-edit"),onClick:function(){U?(!function(){var e=a.map((function(e){return e.id===R?hn(hn({},e),{},{description:K}):e}));u(gn(e)),_(hn(hn({},b),{},{description:K})),p((function(t){return hn(hn({},t),{},wn({},null==d?void 0:d.id,gn(e)))})),wp.ajax.post("igd_update_description",{id:R,accountId:S,description:K,nonce:igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"},position:"top-end"})}))}(),M(!1)):(M(!0),H(P))}}),!U&&(P?React.createElement("span",{className:"details-item-value"},P):React.createElement("span",{className:"description-placeholder"},wp.i18n.__("Add description","integrate-google-drive"))),!g&&U&&React.createElement("textarea",{onChange:function(e){return H(e.target.value)},value:K,rows:4}))):React.createElement("div",{className:"details-placeholder"},React.createElement("i",{className:"dashicons dashicons-pressthis"}),React.createElement("span",null,wp.i18n.__("Select a file or folder to view its details.","integrate-google-drive")))))}function xn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=xn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Cn=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=xn(e))&&(r&&(r+=" "),r+=t);return r};var Fn=n(606);function Nn(){return Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}function kn(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var jn=(0,Te.createContext)({});function Pn(){return(0,Te.useContext)(jn)}var In=function(e){return Le().createElement(jn.Provider,{value:e.refTracker},e.children)};function Tn(){var e=new Map;return{on:function(t,n){var r;return e.has(t)?null==(r=e.get(t))||r.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==Fn.env.NODE){var r=t;e.has(t)||0===r||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var Ln=Tn();function Bn(){return(0,Te.useRef)(new Map).current}var Dn={show:function(e){var t=e.id,n=e.event,r=e.props,i=e.position;n.preventDefault&&n.preventDefault(),Ln.emit(0).emit(t,{event:n.nativeEvent||n,props:r,position:i})},hideAll:function(){Ln.emit(0)}};function Un(){var e,t,n,r,i=new Map,o=!1;function a(){r[e].node.focus()}function l(){return-1!==e||(c(),!1)}function c(){e+1<r.length?e++:e+1===r.length&&(e=0),o&&s(),a()}function s(){if(l()&&!n){var c=i.get(t),s=c.isRoot,d=c.items,u=c.focusedIndex,f=c.parentNode;t.classList.remove("react-contexify__submenu--is-open"),r=d,t=f,s&&(n=!0,i.clear()),o||(e=u,a())}}return{init:function(t){r=t,e=-1,n=!0},moveDown:c,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,o&&s(),a()},openSubmenu:function(){if(l()&&e>=0&&r[e].isSubmenu){var c=Array.from(r[e].submenuRefTracker.values()),s=r[e].node;return i.set(s,{isRoot:n,focusedIndex:e,parentNode:t||s,items:r}),s.classList.add("react-contexify__submenu--is-open"),t=s,c.length>0?(e=0,r=c):o=!0,n=!1,a(),!0}return!1},closeSubmenu:s}}var Mn={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},zn=function(){};function Kn(e){return"function"==typeof e}function Hn(e){return"string"==typeof e}function Wn(e,t){return Te.Children.map(Te.Children.toArray(e).filter(Boolean),(function(e){return(0,Te.cloneElement)(e,t)}))}function Qn(e,t){return Kn(e)?e(t):e}function qn(e,t){return Kn(t)?Nn({},e,t(e)):Nn({},e,t)}var Vn=function(e){var t,n,r,i=e.id,o=e.theme,a=e.style,l=e.className,c=e.children,s=e.animation,d=void 0===s?"scale":s,u=e.onHidden,f=void 0===u?zn:u,p=e.onShown,m=void 0===p?zn:p,g=kn(e,["id","theme","style","className","children","animation","onHidden","onShown"]),v=(0,Te.useReducer)(qn,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),h=v[0],w=v[1],y=(0,Te.useRef)(null),b=(0,Te.useRef)(!1),_=(n=h.visible,r=(0,Te.useRef)(),(0,Te.useEffect)((function(){r.current=n}),[n]),r.current),E=Bn(),R=(0,Te.useState)((function(){return Un()}))[0];function S(e){var t=e.event,n=e.props,r=e.position;t.stopPropagation();var i,o,a=r||(o={x:0,y:0},function(e){return"touchend"===e.type}(i=t)&&i.changedTouches&&i.changedTouches.length>0?(o.x=i.changedTouches[0].clientX,o.y=i.changedTouches[0].clientY):(o.x=i.clientX,o.y=i.clientY),(!o.x||o.x<0)&&(o.x=0),(!o.y||o.y<0)&&(o.y=0),o),l=a.x,c=a.y;setTimeout((function(){w({visible:!0,willLeave:!1,x:l,y:c,triggerEvent:t,propsFromTrigger:n})}),0)}function A(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(Hn(e)||"exit"in e&&e.exit))}(d)?w((function(e){return{visible:!e.visible&&e.visible}})):w((function(e){return{willLeave:e.visible}})))}(0,Te.useEffect)((function(){return b.current=!0,Ln.on(i,S).on(0,A),function(){Ln.off(i,S).off(0,A)}}),[i]),(0,Te.useEffect)((function(){b.current&&h.visible!==_&&(h.visible?m():f())}),[h.visible,f,m]),(0,Te.useEffect)((function(){h.visible?R.init(Array.from(E.values())):E.clear()}),[h.visible,R,E]),(0,Te.useEffect)((function(){if(h.visible){var e=window,t=e.innerWidth,n=e.innerHeight,r=y.current,i=r.offsetWidth,o=r.offsetHeight,a=h.x,l=h.y;a+i>t&&(a-=a+i-t),l+o>n&&(l-=l+o-n),w({x:a,y:l})}}),[h.visible]),(0,Te.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":R.openSubmenu()||A();break;case"Escape":A();break;case"ArrowUp":R.moveUp();break;case"ArrowDown":R.moveDown();break;case"ArrowRight":R.openSubmenu();break;case"ArrowLeft":R.closeSubmenu()}}return h.visible&&(window.addEventListener("resize",A),window.addEventListener("contextmenu",A),window.addEventListener("click",A),window.addEventListener("scroll",A),window.addEventListener("keydown",e),window.addEventListener("blur",A)),function(){window.removeEventListener("resize",A),window.removeEventListener("contextmenu",A),window.removeEventListener("click",A),window.removeEventListener("scroll",A),window.removeEventListener("keydown",e),window.removeEventListener("blur",A)}}),[h.visible,R]);var O,x,C=h.visible,F=h.triggerEvent,N=h.propsFromTrigger,k=h.x,j=h.y,P=h.willLeave,I=Cn("react-contexify",l,((t={})["react-contexify__theme--"+o]=o,t),d?Hn(d)?Cn(((O={})["react-contexify__will-enter--"+d]=d&&C&&!P,O["react-contexify__will-leave--"+d+" react-contexify__will-leave--'disabled'"]=d&&C&&P,O)):"enter"in d&&"exit"in d?Cn(((x={})["react-contexify__will-enter--"+d.enter]=d.enter&&C&&!P,x["react-contexify__will-leave--"+d.exit+" react-contexify__will-leave--'disabled'"]=d.exit&&C&&P,x)):null:null),T=Nn({},a,{left:k,top:j,opacity:1});return Le().createElement(In,{refTracker:E},C&&Le().createElement("div",Object.assign({},g,{className:I,onAnimationEnd:function(){h.willLeave&&h.visible&&w({visible:!1,willLeave:!1})},style:T,ref:y,role:"menu"}),Wn(c,{propsFromTrigger:N,triggerEvent:F})))},Jn=function(e){var t,n=e.children,r=e.className,i=e.style,o=e.triggerEvent,a=e.data,l=e.propsFromTrigger,c=e.onClick,s=void 0===c?zn:c,d=e.disabled,u=void 0!==d&&d,f=e.hidden,p=void 0!==f&&f,m=kn(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),g=Pn(),v={data:a,triggerEvent:o,props:l},h=Qn(u,v);if(Qn(p,v))return null;var w=Cn("react-contexify__item",r,((t={})["react-contexify__item--disabled"]=h,t));return Le().createElement("div",Object.assign({},m,{className:w,style:i,onClick:function(e){v.event=e,h?e.stopPropagation():s(v)},onKeyDown:function(e){"Enter"===e.key&&(v.event=e,s(v))},ref:function(e){e&&!h&&g.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":h}),Le().createElement("div",{className:"react-contexify__item__content"},n))};var Gn=function(e){var t,n=e.arrow,r=void 0===n?"â–¶":n,i=e.children,o=e.disabled,a=void 0!==o&&o,l=e.hidden,c=void 0!==l&&l,s=e.label,d=e.className,u=e.triggerEvent,f=e.propsFromTrigger,p=e.style,m=kn(e,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]),g=Pn(),v=Bn(),h=(0,Te.useRef)(null),w=(0,Te.useState)({left:"100%",top:0,bottom:"initial"}),y=w[0],b=w[1],_={triggerEvent:u,props:f},E=Qn(a,_),R=Qn(c,_);if((0,Te.useEffect)((function(){if(h.current){var e=window,t=e.innerWidth,n=e.innerHeight,r=h.current.getBoundingClientRect(),i={};r.right<t?(i.left="100%",i.right=void 0):(i.right="100%",i.left=void 0),r.bottom>n?(i.bottom=0,i.top="initial"):i.bottom="initial",b(i)}}),[]),R)return null;var S=Cn("react-contexify__item",d,((t={})["react-contexify__item--disabled"]=E,t)),A=Nn({},p,y);return Le().createElement(In,{refTracker:v},Le().createElement("div",Object.assign({},m,{className:S,ref:function(e){e&&!E&&g.set(e,{node:e,isSubmenu:!0,submenuRefTracker:v})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":E}),Le().createElement("div",{className:"react-contexify__item__content",onClick:function(e){e.stopPropagation()}},s,Le().createElement("span",{className:"react-contexify__submenu-arrow"},r)),Le().createElement("div",{className:"react-contexify react-contexify__submenu",ref:h,style:A},Wn(i,{propsFromTrigger:f,triggerEvent:u}))))};function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Xn(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){var r;return r=function(e,t){if("object"!=Yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yn(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ir=React,or=ir.useState,ar=ir.useEffect;function lr(e){var t=e.files,n=e.setFiles,r=e.allFiles,i=e.setAllFiles,o=e.activeAccount,a=e.initFolders,l=tr(or(null),2),c=l[0],s=l[1],d=tr(or(null),2),u=d[0],f=d[1],p=tr(or(null),2),m=p[0],g=p[1],v=tr(or([]),2),h=v[0],w=v[1],y=tr(or(!1),2),_=y[0],R=y[1],S=t.map((function(e){return e.id})),A=t.map((function(e){return e.parents[0]}));function O(e){return s(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce,user_key:igd.userKey}).done((function(t){var n=t.files;n=n.filter((function(e){return b(e)})),f((function(t){return $n($n({},t),{},er({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){s(null)}))}ar((function(){var e={id:"root",accountId:o.id};O(e).then((function(t){w([e])}))}),[]);var x=!!m&&(S.includes(m.id)||A.includes(m.id));m&&["computers","shared","starred","shared-drives"].includes(m.id)&&(x=!0),m&&"root"===m.id&&A.includes("root")&&(x=!0);var C=E(!1,o);return a&&(C=a.filter((function(e){return b(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},C.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=h.find((function(e){return e.id===t})),o=!!m&&m.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(o?"active":""),onClick:function(){g(o?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(i?"down":"right"),onClick:function(n){n.stopPropagation(),w((function(n){return i?n.filter((function(e){return e.id!==t})):[].concat(Xn(n),[e])})),i||u&&u[t]||O(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(o?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),c===t&&React.createElement("div",{className:"igd-spinner"})),i&&React.createElement(cr,{folders:u[t]?u[t]:[],childFolders:u,selectedFolder:m,setSelectedFolder:g,getFolders:O,openFolders:h,setOpenFolders:w,loading:c}))}))),React.createElement("button",{disabled:x,type:"button",className:"igd-btn ".concat(x?"disabled":"btn-primary"),onClick:function(){R(!0),wp.ajax.post("igd_move_file",{file_ids:S,folder_id:m.id,account_id:m.accountId,nonce:igd.nonce}).done((function(e){if(n((function(e){return e.filter((function(e){return!S.includes(e.id)}))})),r[m.id]){var o=[].concat(Xn(r[m.id]),Xn(t));i((function(e){return $n($n({},e),{},er({},m.id,o))}))}Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File(s) moved successfully","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error moving file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){R(!1)}))}},_&&React.createElement("div",{className:"igd-spinner"}),_?wp.i18n.__("Moving...","integrate-google-drive"):wp.i18n.__("Move","integrate-google-drive")))}function cr(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,i=e.setSelectedFolder,o=e.getFolders,a=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=a.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){i(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Xn(t),[e])}),t||n&&n[e.id]||o(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(cr,{folders:n[e.id],childFolders:n,getFolders:o,setSelectedFolder:i,selectedFolder:r,openFolders:a,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function dr(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){var r;return r=function(e,t){if("object"!=sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sr(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||gr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){if(e){if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hr=React,wr=hr.useState,yr=hr.useEffect;function br(e){var t=e.files,n=e.allFiles,r=e.setAllFiles,i=e.activeAccount,o=e.initFolders,a=mr(wr(null),2),l=a[0],c=a[1],s=mr(wr(null),2),d=s[0],u=s[1],f=mr(wr(null),2),p=f[0],m=f[1],g=mr(wr([]),2),v=g[0],h=g[1],w=mr(wr(!1),2),y=w[0],_=w[1];function R(e){return c(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return b(e)})),u((function(t){return fr(fr({},t),{},pr({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){c(null)}))}yr((function(){var e={id:"root",accountId:i.id};R(e).then((function(t){h([e])}))}),[]);var S=!1;p&&["computers","shared","starred","shared-drives"].includes(p.id)&&(S=!0);var A=E(!1,i);return o&&(A=o.filter((function(e){return b(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},A.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=v.find((function(e){return e.id===t})),o=!!p&&p.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(o?"active":""),onClick:function(){m(o?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(i?"down":"right"),onClick:function(n){n.stopPropagation(),h((function(n){return i?n.filter((function(e){return e.id!==t})):[].concat(dr(n),[e])})),i||d&&d[t]||R(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(o?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),l===t&&React.createElement("div",{className:"igd-spinner"})),i&&React.createElement(_r,{folders:d[t]?d[t]:[],childFolders:d,selectedFolder:p,setSelectedFolder:m,getFolders:R,openFolders:v,setOpenFolders:h,loading:l}))}))),React.createElement("button",{disabled:S,type:"button",className:"igd-btn ".concat(S?"disabled":"btn-primary"),onClick:function(){_(!0),wp.ajax.post("igd_copy_file",{files:t,folder_id:p.id,nonce:igd.nonce}).done((function(e){if(Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File(s) copied successfully","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),n[p.id]){var t=[].concat(dr(n[p.id]),dr(e));r((function(e){return fr(fr({},e),{},pr({},p.id,t))}))}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error copying file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){_(!1)}))}},y&&React.createElement("div",{className:"igd-spinner"}),y?wp.i18n.sprintf(wp.i18n.__("Copying %s files","integrate-google-drive"),t.length):wp.i18n.__("Copy","integrate-google-drive")))}function _r(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,i=e.setSelectedFolder,o=e.getFolders,a=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=a.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){i(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(dr(t),[e])}),t||n&&n[e.id]||o(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(_r,{folders:n[e.id],childFolders:n,getFolders:o,setSelectedFolder:i,selectedFolder:r,openFolders:a,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=React,Ar=Sr.useState,Or=Sr.useEffect;function xr(e){var t=e.file,n=e.isDirectLink,r=t.id,i=t.name,o=t.accountId,a=t.type;function l(e){var t=jQuery(e.target).parents("#igd-share-modal").find(".share-link input").val();function n(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("Copy"),t.remove()}function r(){Swal.fire({title:wp.i18n.__("Copied","integrate-google-drive"),text:wp.i18n.__("Link copied to clipboard","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then((function(){r()})).catch((function(){n(t),r()})):(n(t),r())}var c=L(JSON.stringify({id:r,accountId:o,type:a,name:i})),s=n?"".concat(igd.homeUrl,"/?direct_file=").concat(c):null,d=n?"".concat(igd.homeUrl,"/?direct_file=").concat(c,"&embed=1"):null,u=Er(Ar(s),2),f=u[0],p=u[1],m=Er(Ar(d),2),g=m[0],v=m[1];Or((function(){n||(Swal.showLoading(),wp.ajax.send("igd_get_share_link",{data:{file:t,nonce:igd.nonce},success:function(e){p(e.viewLink),v(e.embedLink)},error:function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}}).done((function(){Swal.hideLoading()})))}),[]);var h=Er(Ar("link"),2),w=h[0],y=h[1],b=igd.settings.channels,_=void 0===b?["shareLink","embedCode","email"]:b;return f&&React.createElement(React.Fragment,null,React.createElement("div",{className:"share-link"},"link"===w?React.createElement("input",{type:"text",value:f,readOnly:!0,onClick:l}):React.createElement("textarea",{readOnly:!0,onClick:function(){document.querySelector(".share-link textarea").select(),document.execCommand("copy"),setTimeout((function(){Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Embed code copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)}},'<iframe src="'.concat(g,'" width="100%" height="480" frameBorder="0" allowTransparency="true" allow="encrypted-media" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>'))),React.createElement("div",{className:"share-links"},_.includes("shareLink")&&React.createElement("div",{className:"share-item link",onClick:function(e){y("link"),l(e)}},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))),_.includes("embedCode")&&React.createElement("div",{className:"share-item embed",onClick:function(){return y("embed")}},React.createElement("i",{className:"dashicons dashicons-editor-code"}),React.createElement("span",null,wp.i18n.__("Embed","integrate-google-drive"))),_.includes("email")&&React.createElement("a",{className:"share-item email",href:"mailto:?subject=".concat(i,"&body=").concat(f),onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-email"}),React.createElement("span",null,wp.i18n.__("Email","integrate-google-drive"))),_.includes("facebook")&&React.createElement("a",{className:"share-item facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(f),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-facebook"}),React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),_.includes("twitter")&&React.createElement("a",{className:"share-item twitter",href:"https://twitter.com/intent/tweet?text=".concat(i,"&url=").concat(f),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-twitter"}),React.createElement("span",null,wp.i18n.__("Twitter","integrate-google-drive"))),_.includes("whatsapp")&&React.createElement("a",{className:"share-item whatsapp",href:"https://wa.me/?text=".concat(f),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-whatsapp"}),React.createElement("span",null,wp.i18n.__("WhatsApp","integrate-google-drive")))))}function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Fr(e){return function(e){if(Array.isArray(e))return Nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){var r;return r=function(e,t){if("object"!=Cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Cr(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir=React.useContext;function Tr(){var e=Ir(t),n=e.activeAccount,r=e.getFiles,i=e.activeFiles,o=e.setActiveFiles,a=e.activeFile,l=e.activeFolder,c=e.permissions,s=e.notifications,d=e.shortcodeBuilderType,u=e.isOptions,f=e.setIsOptions,p=e.isList,m=e.setIsList,g=e.setShowDetails,v=e.setIsUpload,h=e.isShortcodeBuilder,w=e.contextMenuId,_=e.selectAll,E=e.setSelectAll,R=e.files,S=e.setFiles,A=e.setAllFiles,O=e.allFiles,x=e.initFolders,C=e.initParentFolder,F=e.nonce,N="search"===d,k="gallery"===d,P="uploader"===d,T=a&&l&&a.id===l.id,B=function(){return T||!a||b(a)?1!==i.length||b(i[0])?u?i:[a]:[i[0]]:[a]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?wp.i18n.__("Direct Link","integrate-google-drive"):wp.i18n.__("Share","integrate-google-drive");Swal.fire({title:t,html:'<div id="igd-share-modal"></div>',didOpen:function(){var t=document.getElementById("igd-share-modal");ReactDOM.render(React.createElement(xr,{file:a,isDirectLink:e}),t)},showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,customClass:{container:"igd-swal share-modal"}})},U=a&&a.permissions?a.permissions:{},M=!!U.canEdit,K=!!U.canPreview,H=!!U.canRename;c&&(c.refresh=!0,c.selectAll=c.download&&c.zipDownload);var W=[{key:"doc",title:wp.i18n.__("Google Doc","integrate-google-drive"),icon:"dashicons-media-document"},{key:"sheet",title:wp.i18n.__("Google Sheet","integrate-google-drive"),icon:"dashicons-media-spreadsheet"},{key:"slide",title:wp.i18n.__("Google Slide","integrate-google-drive"),icon:"dashicons-media-interactive"}],Q=0;u&&(Q=i.filter((function(e){return!c||!b(e)||c.folderDownload})).length);var q=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"},{key:"newFolder",title:wp.i18n.__("New Folder","integrate-google-drive"),icon:"dashicons-open-folder"},{key:"createDoc",title:wp.i18n.__("Create Document","integrate-google-drive"),icon:"dashicons-welcome-add-page"},{key:"upload",title:wp.i18n.__("Upload Files","integrate-google-drive"),icon:"dashicons-cloud-upload"},{key:"preview",title:c&&!1===c.inlinePreview?wp.i18n.__("Preview in a new window","integrate-google-drive"):wp.i18n.__("Preview","integrate-google-drive"),icon:"dashicons-visibility"},{key:"drive",title:wp.i18n.__("Open in Google Drive","integrate-google-drive"),icon:"dashicons-migrate"},{key:"details",title:wp.i18n.__("View Details","integrate-google-drive"),icon:"dashicons-info-outline"},{key:"directLink",title:wp.i18n.__("Direct Link","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"share",title:wp.i18n.__("Share","integrate-google-drive"),icon:"dashicons-share"},{key:"selectAll",title:_?wp.i18n.__("Deselect All","integrate-google-drive"):wp.i18n.__("Select All","integrate-google-drive"),icon:"dashicons-screenoptions"},{key:"edit",title:wp.i18n.__("Edit (New Window)","integrate-google-drive"),icon:"dashicons-edit-page"},{key:"download",title:wp.i18n.__("Download","integrate-google-drive")+"".concat(Q>1?" (".concat(Q,")"):""),icon:"dashicons-download"},{key:"import",title:wp.i18n.__("Import to Media Library","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-migrate"},{key:"move",title:wp.i18n.__("Move","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-editor-break"},{key:"rename",title:wp.i18n.__("Rename","integrate-google-drive"),icon:"dashicons-edit"},{key:"copy",title:wp.i18n.__("Copy","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-admin-page"},{key:"delete",title:wp.i18n.__("Delete","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-trash"},{key:"view",title:p?wp.i18n.__("Grid View","integrate-google-drive"):wp.i18n.__("List View","integrate-google-drive"),icon:p?"dashicons-grid-view":"dashicons-list-view"}].filter((function(e){var t=e.key;if((!h||["view","selectAll"].includes(t))&&(!N||["preview","download","view"].includes(t))&&("drive"!==t||!u&&!x)&&(!c||c[t])&&("view"!==t||(!k||h)&&u)&&("edit"!==t||M)&&(!["share","directLink","details"].includes(t)||a)&&("selectAll"!==t||R.length&&u&&!P)&&("preview"!==t||!(!a&&(1!==i.length||b(i[0]))||a&&(!K||b(a))||u&&(1!==i.length||b(i[0]))))&&("copy"!==t||!(u&&!i.length||!u&&a&&b(a)||u&&i.length&&i.some((function(e){return b(e)}))))&&("move"!==t||!u||i.length)&&("import"!==t||!(u&&(!i.length||i.some((function(e){return b(e)})))||a&&b(a)))&&("rename"!==t||!u||!(i.length>1)&&H)&&("delete"!==t||!u||i.length)&&("download"!==t||!(!a&&!i.length||a&&(!a.permissions||!b(a)&&!a.permissions.canDownload||b(a)&&c&&(null==c||!c.folderDownload))||u&&!Q))&&(T||l&&u&&!a&&!i.length||!["refresh","newFolder","upload","createDoc"].includes(t))&&(!(u&&l&&["computers","shared-drives"].includes(l.id))||["view"].includes(t))&&!(u&&l&&"shared"===l.id&&["newFolder","upload","createDoc","move","delete"].includes(t))&&(!T||i.length||u||["refresh","newFolder","upload","createDoc"].includes(t)))return!0}));return q.length||!c||c.view||f(null),React.createElement(Vn,{id:w,className:"igd-context-menu",animation:Mn.fade,onHidden:function(){return f(!1)}},q.map((function(e){var t=e.key,d=e.title,h=e.icon;return React.createElement(Jn,{key:t,onClick:function(e){e.data;var d=e.event;e.triggerEvent;if(f(!1),"newFolder"===t)return o([]),void Swal.fire({title:wp.i18n.__("New Folder","integrate-google-drive"),text:wp.i18n.__("Enter new folder name","integrate-google-drive"),input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_new_folder",{name:e,parent_id:l.id,account_id:l.accountId,nonce:F||igd.nonce}).done((function(e){var t=[].concat(Fr(R),[e]);S(t),A((function(e){return jr(jr({},e),{},Pr({},l.id,t))})),Swal.close(),Swal.fire({title:"Created!",text:"Folder has been created.",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});if("refresh"!==t)if("upload"!==t)if("edit"!==t)if("share"!==t)if("directLink"!==t)if("preview"!==t)if("drive"!==t)if("download"!==t)if("rename"!==t)if("move"!==t){var h,w;if("copy"!==t)return"import"===t?igd.isPro?void function(){var e=u?i.filter((function(e){return!b(e)})):[a].filter((function(e){return!b(e)}));Swal.fire({title:wp.i18n.sprintf(wp.i18n._n("Importing %d file","Importing %d files",e.length,"integrate-google-drive"),e.length),text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal"},didOpen:function(){Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:e,nonce:F||igd.nonce},success:function(e){console.log(e)},error:function(e){console.log(e)},complete:function(){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("File(s) have been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}})}})}():void j(wp.i18n.__("Upgrade to PRO to import cloud files to the Media Library.","integrate-google-drive")):"delete"===t?(h=u?i.map((function(e){return e.id})):[a.id],w=u?i[0].accountId:a.accountId,Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,customClass:{container:"igd-swal igd-swal-reverse"},confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(){return wp.ajax.post("igd_delete_files",{file_ids:h,account_id:w,nonce:F||igd.nonce})}}).then((function(e){if(e.isConfirmed){s&&s.deleteNotification&&wp.ajax.post("igd_notification",{files:B(),notifications:s,type:"delete",nonce:F||igd.nonce});var t=R.filter((function(e){return!h.includes(e.id)}));S(t),A((function(e){return jr(jr({},e),{},Pr({},l.id,t))})),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("File has been deleted.","%d files have been deleted.",i.length||1,"integrate-google-drive"),i.length),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}})),void o([])):"view"===t?(m(!p),void function(e,t,n){var r=z(t,n);localStorage.setItem("igd_listing_view_".concat(r),e)}(p?"grid":"list",x,C)):"details"===t?(g(!0),void localStorage.setItem("igd_show_details",1)):void("selectAll"!==t||E((function(e){return!e})));Swal.fire({title:wp.i18n.__("Copy","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-copy"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-copy-swal"},didOpen:function(e){ReactDOM.render(React.createElement(br,{files:u?i:[a],allFiles:O,setAllFiles:A,activeAccount:n,initFolders:x}),document.getElementById("igd-copy"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-copy"))}})}else Swal.fire({title:wp.i18n.__("Move","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-move"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-move-swal"},didOpen:function(e){var t=document.getElementById("igd-move");ReactDOM.render(React.createElement(lr,{files:u?i:[a],setFiles:S,allFiles:O,setAllFiles:A,activeAccount:n,initFolders:x}),t)},willClose:function(){var e=document.getElementById("igd-move");ReactDOM.unmountComponentAtNode(e)}});else Swal.fire({title:wp.i18n.__("Rename","integrate-google-drive"),text:wp.i18n.__("Enter new name","integrate-google-drive"),input:"text",inputValue:a.name,inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Rename","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_rename_file",{name:e,id:a.id,accountId:a.accountId,nonce:F||igd.nonce}).done((function(){var t=R.map((function(t){return t.id===a.id?jr(jr({},t),{},{name:e}):t}));S(t),A((function(e){return jr(jr({},e),{},Pr({},l.id,t))})),Swal.close(),Swal.fire({title:wp.i18n.__("Renamed!","integrate-google-drive"),text:wp.i18n.__("File has been renamed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});else{if(a&&a.exportAs&&Object.keys(a.exportAs).length)return;if(T||!a||b(a))if(1!==i.length||b(i[0]))!function(){var e=(new Date).getTime(),t=u?i.filter((function(e){return!c||!b(e)||c.folderDownload})).map((function(e){return e.id})):[a.id],n=u?i[0].accountId:a.accountId,r="".concat(igd.ajaxUrl,"?action=igd_download&file_ids=").concat(L(JSON.stringify(t)),"&request_id=").concat(e,"&accountId=").concat(n);Swal.fire({title:wp.i18n.__("Download","integrate-google-drive"),html:'<div class="igd-download-wrap"><div id="igd-download-status"></div><div id="igd-download-progress"></div><iframe id="igd-hidden-download" class="igd-hidden" src="'.concat(r,'" ></iframe></div>'),showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"igd-swal igd-download-popup"},didOpen:function(){Swal.showLoading();var t=jQuery("#igd-download-status"),n=jQuery("#igd-download-progress");window.downloadStatusInterval=setInterval((function(){wp.ajax.send("igd_download_status",{data:{id:e,nonce:F||igd.nonce},success:function(e){if(!document.getElementById("igd-hidden-download"))return clearInterval(window.downloadStatusInterval),void Swal.close();if(!e)return clearInterval(window.downloadStatusInterval),Swal.close(),void Swal.fire({title:wp.i18n.__("Completed!","integrate-google-drive"),text:wp.i18n.__("Download completed","integrate-google-drive"),icon:"success",showConfirmButton:!1,toast:!0,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}});var r=e.status,i=e.total,o=e.downloaded,a=e.action;"failed"===a?(clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:r,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})):(t.html(r),"downloading"===a&&n.html("".concat(y(o)," of ").concat(y(i)," - ").concat(Math.round(o/i*100),"%")))},error:function(e){clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}})}),1e3)},willClose:function(){clearInterval(window.downloadStatusInterval)}})}();else{var _="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(i[0].id,"&accountId=").concat(i[0].accountId);window.location.href=_}else{var N="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(a.id,"&accountId=").concat(a.accountId);window.location.href=N}s&&s.downloadNotification&&wp.ajax.post("igd_notification",{files:B(),notifications:s,type:"download",nonce:F||igd.nonce})}else{var k=a||i[0];window.open(k.webViewLink,"_blank").focus()}else{var P=a||i[0];I(d,P.id,[P],c,s)}else D(!0);else D();else window.open(a.webViewLink,"_blank").focus();else v(!0);else r(l,"refresh")},data:{action:t},className:"context-menu-item ".concat(t," ").concat(["import"].includes(t)&&!igd.isPro?"disabled":"")},"createDoc"===t?React.createElement(Gn,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,d)),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},W.map((function(e){var t=e.key,n=e.title,r=e.icon;return React.createElement(Jn,{key:t,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",t=wp.i18n.__("New Document","integrate-google-drive"),n=wp.i18n.__("Enter document name","integrate-google-drive");"sheet"===e?(t=wp.i18n.__("New Spreadsheet","integrate-google-drive"),n=wp.i18n.__("Enter spreadsheet name","integrate-google-drive")):"slide"===e&&(t=wp.i18n.__("New Presentation","integrate-google-drive"),n=wp.i18n.__("Enter presentation name","integrate-google-drive")),Swal.fire({title:t,text:n,input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(t){return t?wp.ajax.post("igd_create_doc",{name:t,type:e,folder_id:l.id,account_id:l.accountId,nonce:F||igd.nonce}).done((function(t){var n=[].concat(Fr(R),[t]);S(n),A((function(e){return jr(jr({},e),{},Pr({},l.id,n))})),Swal.close();var r=wp.i18n.__("Document created","integrate-google-drive"),i=wp.i18n.__("Document created successfully","integrate-google-drive");"sheet"===e?(r=wp.i18n.__("Spreadsheet created","integrate-google-drive"),i=wp.i18n.__("Spreadsheet created successfully","integrate-google-drive")):"slide"===e&&(r=wp.i18n.__("Presentation created","integrate-google-drive"),i=wp.i18n.__("Presentation created successfully","integrate-google-drive")),Swal.fire({title:r,text:i,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}})}(t)},className:"context-menu-item ".concat(t)},React.createElement("i",{className:"dashicons ".concat(r)}),React.createElement("span",null,n))}))):"download"===t&&a&&a.exportAs&&Object.keys(a.exportAs).length?React.createElement(Gn,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,wp.i18n.__("Download as","integrate-google-drive"))),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},Object.keys(a.exportAs).map((function(e){return React.createElement(Jn,{key:e,className:"context-menu-item ".concat(e),onClick:function(){return function(e){var t=a.exportAs[e].mimetype;window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(a.id,"&accountId=").concat(a.accountId,"&mimetype=").concat(t)}(e)}},React.createElement("i",{className:"dashicons dashicons-media-text"}),React.createElement("span",null,e))}))):React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,d),["import"].includes(t)&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive")))))})))}function Lr(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?U():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e){return function(e){if(Array.isArray(e))return Wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t,n){var r;return r=function(e,t){if("object"!=Br(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Br(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||Hr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr=React,qr=Qr.useState,Vr=Qr.useEffect,Jr=Qr.useMemo,Gr=Qr.useRef,Yr=igd.settings,Xr=Yr.rememberLastFolder,Zr=void 0===Xr||Xr,$r=Yr.adminLazyLoad,ei=void 0===$r||$r,ti=Yr.adminLazyLoadType,ni=void 0===ti?"pagination":ti,ri=Yr.adminLazyLoadNumber,ii=void 0===ri?100:ri;function oi(e){var t=e.shortcodeId,n=e.nonce,i=e.initParentFolder,o=e.isShortcodeBuilder,a=e.selectedFolders,l=e.setSelectedFolders,c=e.allFolders,s=e.privateFolders,d=e.initFolders,u=e.filters,f=void 0===u?{}:u,p=e.shortcodeBuilderType,m=e.isList,g=e.showLastModified,v=void 0===g?!p:g,h=e.showFileSizeField,w=void 0===h||h,y=e.fileNumbers,_=e.sort,R=e.permissions,O=e.notifications,F=e.showHeader,N=void 0===F?o||!p:F,k=e.showRefresh,j=void 0===k||k,I=e.showSorting,T=void 0===I||I,D=e.showBreadcrumbs,U=void 0===D||D,W=e.searchBoxText,q=e.galleryLayout,V=e.galleryAspectRatio,J=e.galleryColumns,G=e.galleryHeight,Y=e.galleryMargin,X=e.galleryView,Z=e.galleryFolderView,$=e.thumbnailCaption,ee=e.galleryOverlay,te=e.overlayDisplayType,ne=e.galleryOverlayTitle,re=e.galleryOverlayDescription,ie=e.galleryOverlaySize,oe=e.galleryImageSize,ae=e.galleryCustomSizeWidth,le=e.galleryCustomSizeHeight,ce=e.isSelectFiles,se=e.selectionType,de=e.initialSearchTerm,fe=e.isLMS,pe=e.isWooCommerce,me=e.lazyLoad,ge=void 0===me?!!d||ei:me,ve=e.lazyLoadNumber,he=void 0===ve?d?100:ii:ve,we=e.lazyLoadType,ye=void 0===we?d?"pagination":ni:we,_e=e.account,Ee=void 0===_e?JSON.parse(B(igd.activeAccount)):_e;!d&&igd.userAccessData&&(i=igd.userAccessData.initParentFolder,d=igd.userAccessData.initFolders);var Re="search"===p&&!o,Se="gallery"===p,Ae="media"===p,Oe="uploader"===p;Se?f.isGallery=!0:Ae&&(f.isMedia=!0);var xe=null;!Re&&Zr&&(xe=function(e,t){var n=null,r=document.body.classList.contains("elementor-editor-active"),i=document.body.classList.contains("et-fb"),o=document.body.classList.contains("block-editor-page");if(r||i||o)return n;var a=M(e,t),l=sessionStorage.getItem(a);return l&&(n=JSON.parse(l)).id===(null==t?void 0:t.id)&&(n=null),n}(d,i));var Ce,Fe=Kr(qr(Ee),2),Ne=Fe[0],ke=Fe[1],je=Kr(qr(!Re&&d?d:[]),2),Pe=je[0],Ie=je[1],Te=[];!Re&&d&&(Te=zr({},(null===(Ce=i)||void 0===Ce?void 0:Ce.id)||"",d));var Le=Kr(qr(Te),2),Be=Le[0],De=Le[1],Ue=Kr(qr([]),2),Me=Ue[0],ze=Ue[1],Ke=Kr(qr(null),2),He=Ke[0],We=Ke[1],Qe=Kr(qr(!d&&!i&&!Re),2),qe=Qe[0],Ve=Qe[1],Je=Kr(qr({}),2),Ge=Je[0],Ye=Je[1],Xe=Kr(qr(!1),2),Ze=Xe[0],$e=Xe[1],et=Kr(qr(!1),2),tt=et[0],nt=et[1],rt=Kr(qr(window.innerWidth<=768),2),it=rt[0],ot=rt[1],at=Kr(qr(!it&&!o&&!d),2),lt=at[0],ct=at[1],st=Kr(qr(!1),2),dt=st[0],ut=st[1],ft=Kr(qr(!1),2),pt=ft[0],mt=ft[1],gt=Gr(de),vt=Kr(qr(de),2),ht=vt[0],wt=vt[1],yt=!it&&"1"==localStorage.getItem("igd_show_details")&&!d,bt=Kr(qr(yt),2),_t=bt[0],Et=bt[1],Rt=null;d?i&&(Rt=i):Rt=E("root",Ne),xe&&(Rt=xe);var St=Kr(qr(Rt),2),At=St[0],Ot=St[1],xt=localStorage.getItem("igd_sort")?JSON.parse(localStorage.getItem("igd_sort")):{sortBy:"name",sortDirection:"asc"},Ct=Kr(qr(null!=_?_:xt),2),Ft=Ct[0],Nt=Ct[1],kt=function(e,t){var n=z(e,t);return localStorage.getItem("igd_listing_view_".concat(n))}(d,i);kt&&(m="list"===kt);var jt=Kr(qr(m),2),Pt=jt[0],It=jt[1],Tt=P();function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(We(null),ze([]),$e(!1),Ve(t||!0),d){if(!e)return Ve(!1),Ot(null),void Ie(d);s?e.isPrivate=!0:Re&&!d.find((function(t){return t.id===e.id}))&&(e.folders=d)}else e||xe&&xe.accountId===Ne.id&&(e=xe),e||(e=E("root",Ne));"lazy"!==t&&(e.pageNumber=1),wp.ajax.post("igd_get_files",{data:{folder:e,sort:Ft,refresh:"refresh"===t,from_server:o||!!d&&!!i&&i.id===e.id,fileNumbers:y,limit:ge?he:0,filters:f},nonce:n||igd.nonce}).done((function(n){var r=n.files,o=void 0===r?[]:r,a=n.breadcrumbs,l=n.error,c=n.nextPageNumber,s=void 0===c?0:c,u=n.count;if(l)"refresh"!==t&&(document.querySelector(".igd-swal")?Swal.showValidationMessage(l):Swal.fire({html:l,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}}));else{o.length&&Zr&&K(e,d,i),!o.length&&Zr&&H(d,i),"lazy"===t&&"pagination"!==ye&&At&&At.id===e.id&&(o=[].concat(Mr(Pe),Mr(o))),(Oe||"folders"===se)&&(o=o.filter((function(e){return b(e)}))),Ae&&(o=o.filter((function(e){return S(e)||b(e)}))),fe&&(o=o.filter((function(e){return A(e)||b(e)}))),Se&&(o=o.filter((function(e){return x(e)||A(e)||b(e)}))),Ie(o);var f=ge&&"pagination"!==ye,p=u>0&&u>o.length;if(f||p){var m=Ur(Ur(Ur({},e),f&&{pageNumber:s}),p&&{count:u});De((function(t){return Ur(Ur({},t),{},zr({},e.id,[].concat(Mr(o),[m])))})),e=m}Ot(e),a&&Ye(a)}})).fail((function(t){console.log(t),Ot(Ur(Ur({},e),{},{pageNumber:0})),console.log(document.querySelector(".igd-swal")),document.querySelector(".igd-swal")?Swal.showValidationMessage(t):Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:t||wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}})})).always((function(){return Ve(!1)}))}function Bt(e){var t=e.id;if(We(null),ze([]),$e(!1),Be[t]){var n=Be[t];e=n.find((function(t){return t.id===e.id}))||e,Ot(e),Ie(n.filter((function(e){return e.id!==t}))),Zr&&K(At,d,i),Ye(function e(t){if(C(t,Ne)){var r=E(t,Ne);return zr({},t,r.name)}var i=Object.keys(Ge),o=n.find((function(e){return e.id===t}));if(o){var a=zr({},t,o.name),l=o.parents||[];return!l.length||d&&d.find((function(e){return e.id===t}))?a:Ur(Ur({},e(l[0])),a)}if(i.includes(t)){var c=i.indexOf(t);return Object.fromEntries(i.slice(0,c+1).map((function(e){return[e,Ge[e]]})))}return{}}(t))}else Lt(e);!d&&igd.showReviewPopup&&setTimeout((function(){!function(){Q.apply(this,arguments)}()}),5e3)}function Dt(e){$e(!0),gt.current=e;var t=At?[At]:d;Ve(!0),We(null),ze([]),nt(!1),wp.ajax.post("igd_search_files",{folders:t,sort:Ft,fileNumbers:y,keyword:e,accountId:Ne.id,isPrivate:s,fullTextSearch:null==R?void 0:R.fullTextSearch,filters:f,nonce:n||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{if(d){var i=d.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=[].concat(Mr(i),Mr(n))}Ae&&(n=n.filter((function(e){return S(e)||b(e)}))),fe&&(n=n.filter((function(e){return A(e)||b(e)}))),Se&&(n=n.filter((function(e){return x(e)||A(e)||b(e)})));var o=new Set;n=n.filter((function(e){return!o.has(e.id)&&(o.add(e.id),!0)})),Ie(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){Ve(!1)})),O&&O.searchNotification&&wp.ajax.post("igd_notification",{files:t,keyword:e,notifications:O,type:"search",nonce:n||igd.nonce})}Vr((function(){Object.keys(JSON.parse(B(igd.accounts))).length&&(R&&R.allowSearch&&de?Dt(de):Re&&!o||(d||i?Zr&&xe&&Lt(xe,"last"):Lt()))}),[]),Vr((function(){if(Tt){Ve("switch"),De({});var e={id:"root",accountId:Ne.id,name:wp.i18n.__("My Drive","integrate-google-drive")};igd.activeAccount=L(JSON.stringify(Ne)),wp.ajax.post("igd_switch_account",{id:Ne.id,nonce:n||igd.nonce}).done((function(){Lt(e,"switch")})).fail((function(e){console.log(e)}))}}),[Ne]),Vr((function(){Tt&&(localStorage.setItem("igd_sort",JSON.stringify(Ft)),Lt(At,"sort"))}),[Ft]),Vr((function(){var e=function(){ot(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Vr((function(){Tt&&i.id&&i.id!==(null==At?void 0:At.id)&&Bt(i)}),[i]),Vr((function(){if(d&&Ge){var e=Object.keys(Ge),t=At&&At.id?At.id:At,n=!!e&&e.findIndex((function(e){return e===t}));if(i&&(e.find((function(e){return e===i.id}))&&delete Ge[i.id],e[e.length-1]===i.id&&Ye({})),-1!==n)for(var r=function(t){if(d.find((function(n){return n.id===e[t]})))return 1;delete Ge[e[t]]},o=0;o<n&&!r(o);o++);}}),[Ge]),Vr((function(){if(Tt)if(o){var e;if(pt){var t=[].concat(Mr(a),Mr(Pe)),n=new Set;e=t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}else e=a.filter((function(e){return!Pe.some((function(t){return t.id===e.id}))}));l(e)}else Se||ze(pt?R?Pe.filter((function(e){return!(b(e)&&!R.folderDownload)})):Pe:[])}),[pt]),Vr((function(){Tt&&(mt(!1),ze([]),$e(!1))}),[At]);var Ut,Mt=Jr((function(){return"igd-context-menu-".concat(Date.now())}),[]),zt=(Ut={id:Mt},{show:function(e,t){Dn.show({id:(null==t?void 0:t.id)||(null==Ut?void 0:Ut.id),props:(null==t?void 0:t.props)||(null==Ut?void 0:Ut.props),event:e,position:null==t?void 0:t.position})},hideAll:function(){Dn.hideAll()}}),Kt=zt.show,Ht=zt.hideAll;return Vr((function(){var e=function(){ReactTooltip.hide(),Ht()},t=document.querySelector(".igd-shortcode-builder-form");return t&&t.addEventListener("scroll",e),function(){t&&t.removeEventListener("scroll",e)}}),[]),Object.keys(JSON.parse(B(igd.accounts))).length?React.createElement(r,{value:{shortcodeId:t,activeAccount:Ne,activeFiles:Me,setActiveFiles:ze,activeFile:He,setActiveFile:We,activeFolder:At,permissions:R,notifications:O,shortcodeBuilderType:p,isList:Pt,setIsList:It,setShowDetails:Et,setIsUpload:nt,getFiles:Lt,isShortcodeBuilder:o,isMobile:it,setActiveAccount:ke,allFolders:c,initFolders:d,isSearch:Re,setShowSidebar:ct,sort:Ft,setSort:Nt,setFiles:Ie,setAllFiles:De,breadcrumbs:Ge,setActiveFolder:Ot,isSearchResults:Ze,setIsSearchResults:$e,isOptions:dt,setIsOptions:ut,listFiles:Bt,showBreadcrumbs:U,showRefresh:j,showSorting:T,initParentFolder:i,isUpload:tt,isLoading:qe,files:Pe,allFiles:Be,selectedFolders:a,setSelectedFolders:l,filters:f,showLastModified:v,showFileSizeField:w,searchBoxText:W,galleryLayout:q,galleryAspectRatio:V,galleryColumns:J,galleryHeight:G,galleryMargin:Y,galleryView:X,galleryFolderView:Z,thumbnailCaption:$,galleryOverlay:ee,overlayDisplayType:te,galleryOverlayTitle:ne,galleryOverlayDescription:re,galleryOverlaySize:ie,galleryImageSize:oe,galleryCustomSizeWidth:ae,galleryCustomSizeHeight:le,show:Kt,hideAll:Ht,contextMenuId:Mt,isSelectFiles:ce,selectionType:se,selectAll:pt,setSelectAll:mt,searchFiles:Dt,initialSearchTerm:de,searchKeywordRef:gt,searchKeyword:ht,setSearchKeyword:wt,isLMS:fe,isWooCommerce:pe,lazyLoad:ge,lazyLoadNumber:he,lazyLoadType:ye,nonce:n}},React.createElement("div",{className:"igd-file-browser"},React.createElement(Tr,null),(N&&!Re||Re&&(Ze||!!Pe.length))&&React.createElement(ue,null),React.createElement("div",{className:"igd-file-browser-body"},lt&&React.createElement(be,null),React.createElement(pn,null),!o&&_t&&React.createElement(On,null)))):React.createElement(Lr,null)}Zr=Zr||igd.isAdmin;var ai=React,li=ai.useRef,ci=ai.useEffect;function si(e){var t=e.file,n=e.isPlaying,r=e.playNext,i=e.playPrev,o=e.handleDownload,a=e.nextPrevious,l=e.rewindForward,c=e.download,s=e.playableItems,d=e.playlistAutoplay,u=e.showPlaylist,f=e.isLoop,p=e.isOpenPlaylist,m=e.setIsOpenPlaylist,g=e.isShuffle,v=e.setIsLoop,h=e.setIsShuffle,w=li(null),y=li(null),b=t||{},_=b.id,E=b.accountId,R=t&&O(t),S="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(_,"&account_id=").concat(E),A=t&&N(t,"large"),x={controls:["play-large",!!l&&"rewind","play",!!l&&"fast-forward","current-time","progress","duration","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["speed","loop","shuffle","playlist"],speed:{selected:1,options:[.5,.75,1,1.25,1.5,2]},i18n:{shuffle:wp.i18n.__("Shuffle","integrate-google-drive"),loop:wp.i18n.__("Loop","integrate-google-drive"),playlist:wp.i18n.__("Playlist","integrate-google-drive")},keyboard:{focused:!0,global:!0},disableContextMenu:!c};ci((function(){var e=jQuery,t=w.current,n=t.querySelector("video, audio");if(y.current=new Plyr(n,x),a&&s.length>1&&!e(t).find('[data-plyr="prev"]').length){var b=e('<button type="button" class="plyr__controls__item plyr__control" aria-label="Previous" data-plyr="prev"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"/></svg></button>').on("click",(function(){return i()})),_=e('<button type="button"  class="plyr__controls__item plyr__control" aria-label="Next" data-plyr="next" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"/></svg></button>').on("click",(function(){return r()})),E=e(t).find('.plyr__controls [data-plyr="play"]'),R=e(t).find('.plyr__controls [data-plyr="play"]');l&&(E=e(t).find('.plyr__controls [data-plyr="rewind"]'),R=e(t).find('.plyr__controls [data-plyr="fast-forward"]')),b.insertBefore(E),_.insertAfter(R)}var S=e(t).find('.plyr__menu__container > div > div:first-child [role="menu"]'),A=S.parent().attr("id").match(/(\d+)/)[0];if(!e(t).find('[data-plyr-menu="loop"]').length){var O=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="loop" aria-haspopup="true"><span> '.concat(wp.i18n.__("Loop","integrate-google-drive"),'  <span class="plyr__menu__value">').concat(f?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-loop")).prop("hidden",!1)}));S.append(O);var C=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!0),e(".plyr__control.plyr__control--back").click(),O.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),F=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!1),e(".plyr__control.plyr__control--back").click(),O.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-loop [role="menu"]')).append(C).append(F)}if(!e(t).find('[data-plyr-menu="shuffle"]').length){var N=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="shuffle" aria-haspopup="true"><span> '.concat(wp.i18n.__("Shuffle","integrate-google-drive"),' <span class="plyr__menu__value">').concat(g?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-shuffle")).prop("hidden",!1)}));S.append(N);var k=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!0),e(".plyr__control.plyr__control--back").click(),N.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),j=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!1),e(".plyr__control.plyr__control--back").click(),N.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-shuffle [role="menu"]')).append(k).append(j)}if(u&&!e(t).find('[data-plyr-menu="playlist"]').length){var P=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="playlist" aria-haspopup="true"><span> '.concat(wp.i18n.__("Playlist","integrate-google-drive"),' <span class="plyr__menu__value">').concat(p?wp.i18n.__("Show","integrate-google-drive"):wp.i18n.__("Hide","integrate-google-drive"),"</span> </span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-playlist")).prop("hidden",!1)}));S.append(P);var I=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(p?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Show","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),m(!0),P.find(".plyr__menu__value").text(wp.i18n.__("Show","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),T=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(p?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Hide","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),m(!1),P.find(".plyr__menu__value").text(wp.i18n.__("Hide","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-playlist [role="menu"]')).append(I).append(T)}if(c&&!e(t).find('[data-plyr-menu="download"]').length){var L=e('<button data-plyr="settings" type="button" class="plyr__control" role="menuitem" data-plyr-menu="download" aria-haspopup="true"><span> '.concat(wp.i18n.__("Download","integrate-google-drive")," </span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),o()}));S.append(L)}return y.current.on("ended",(function(){(f||d)&&r(!0)})),function(){y.current.destroy()}}),[t]);var C=P();ci((function(){C&&y.current&&(n?y.current.play():y.current.pause())}),[n,y.current]);var F=R?'<audio src="'.concat(S,'" controls preload="none"></audio>'):'<video class="igd-player-media-video" src="'.concat(S,'" width="100%" height="100%" controls  poster=').concat(A,' preload="none" ></video>');return React.createElement("div",{className:"igd-player-media-wrap",ref:w,dangerouslySetInnerHTML:{__html:F}})}function di(e){var t=e.files,n=e.searchKeywordRef,r=e.setIsActive,i=e.setKeyword,o=e.setError,a=e.setIsSearchResults,l=e.setFiles,c=e.isActive,s=e.initFolders,d=t.length?t.length:wp.i18n.__("No","integrate-google-drive"),u=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(n.current,"</strong>"),d);return React.createElement("div",{className:"search-result-info"},React.createElement("span",{dangerouslySetInnerHTML:{__html:u}}),React.createElement("button",{onClick:function(e){r(!c),i(""),o(!1),a(!1),l(s)},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function ui(e){return function(e){if(Array.isArray(e))return fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pi=React,mi=pi.useRef,gi=pi.useEffect;function vi(e){var t=e.initFolders,n=e.initParentFolder,r=e.sort,i=e.filters,o=e.privateFolders,a=e.setFiles,l=e.fullTextSearch,c=e.initialSearchTerm,s=e.isSearchResults,d=e.setIsSearchResults,u=e.searchKeywordRef,f=e.notifications,p=e.isLoading,m=e.setIsLoading,g=e.keyword,v=e.setKeyword,h=e.error,w=e.setError,y=e.isActive,_=e.setIsActive,E=e.nonce,R=mi(),A=mi(null),O=function(e){var c;m(!0),d(!0),u.current=e;var s=n?[n]:t;wp.ajax.post("igd_search_files",{folders:s,sort:r,keyword:e,accountId:null===(c=s[0])||void 0===c?void 0:c.accountId,isPrivate:o,fullTextSearch:l,filters:i,nonce:E||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var i=s.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=(n=[].concat(ui(i),ui(n))).filter((function(e){return b(e)||S(e)})),a(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){m(!1)})),f&&f.searchNotification&&wp.ajax.post("igd_notification",{files:s,keyword:e,notifications:f,type:"search",nonce:E||igd.nonce})},x=function(e){if(e&&e.preventDefault(),w(!1),!g)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void w(!0);O(g)},C=P();return gi((function(){if(C&&g&&!(g.length<4))return A.current=setTimeout((function(){x()}),2e3),function(){clearTimeout(A.current)}}),[g]),gi((function(){R.current.addEventListener("keydown",(function(e){" "===e.key&&e.stopPropagation()}),!0),c&&O(c)}),[]),React.createElement("form",{ref:R,className:"playlist-search ".concat(y?"active":""," ").concat(h?"error":""),onSubmit:x},p&&React.createElement("div",{className:"igd-spinner"}),s&&!p&&React.createElement("div",{className:"search-dismiss",onClick:function(){_(!y),v(""),w(!1),d(!1),a(t)}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search in the playlist","integrate-google-drive"),value:g,onChange:function(e){v(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;y?x():(_(!0),null===(e=R.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{width:"18",height:"18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})),React.createElement(ReactTooltip,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}function hi(e){return function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||yi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){if(e){if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bi(e,t):void 0}}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _i=React.useState;function Ei(e){var t=e.file,n=e.files,r=e.setFile,i=e.folderFiles,o=e.getFolderFiles,a=e.isSub,l=e.isPlaying,c=e.setIsPlaying,s=e.download,d=e.activeFolder,u=e.setActiveFolder,f=e.playlistThumbnail,p=e.playlistNumber,m=e.allowSearch,g=e.initParentFolder,v=e.initFolders,h=e.filters,w=e.privateFolders,_=e.fullTextSearch,E=e.initialSearchTerm,R=e.sort,O=e.setFiles,x=e.isSearchResults,C=e.setIsSearchResults,F=e.searchKeywordRef,k=e.notifications,j=e.nonce,P=wi(_i([]),2),I=P[0],T=P[1],L=wi(_i(!1),2),B=L[0],D=L[1],U=wi(_i(E),2),M=U[0],z=U[1],K=wi(_i(!1),2),H=K[0],W=K[1],Q=wi(_i(!!E),2),q=Q[0],V=Q[1];return React.createElement("div",{className:a?"sub-item":"igd-player-playlist"},!a&&m&&React.createElement(React.Fragment,null,React.createElement(vi,{initFolders:v,initParentFolder:g,filters:h,sort:R,privateFolders:w,setFiles:O,fullTextSearch:_,initialSearchTerm:E,isSearchResults:x,setIsSearchResults:C,searchKeywordRef:F,isLoading:B,setIsLoading:D,notifications:k,keyword:M,setKeyword:z,error:H,setError:W,isActive:q,setIsActive:V,nonce:j}),x&&!B&&React.createElement(di,{files:n,searchKeywordRef:F,setIsActive:V,isActive:q,setKeyword:z,setError:W,setIsSearchResults:C,setFiles:O,initFolders:v})),n.length>0&&n.map((function(e,n){var a=e.id,j=e.name,P=e.size,L=N(e,"custom",{w:64,h:64}),B=b(e);if(B||S(e)){var D=a===d,U=(null==t?void 0:t.id)===a,M=I.find((function(t){return t.id===e.id}));return React.createElement("div",{key:a,className:"playlist-item-wrap"},React.createElement("div",{className:"playlist-item ".concat(U?"active":""),onClick:function(n){if(n.stopPropagation(),B){if(u(!D&&a),T(M?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(hi(t),[e])}),M||i&&i[e.id])return;o(e)}else if(t&&t.id===a)c(!l||"pause"===l);else if(c(!0),r(e),A(e)){var s=n.target.closest(".igd-player");s&&(s.classList.contains("playlist-bottom")||window.innerWidth<768)&&s.scrollIntoView({behavior:"smooth"})}}},p&&React.createElement("span",{className:"item-index"},String(n+1).padStart(2,"0"),"."),B&&(!D||!!i[a])&&React.createElement("span",{className:"dashicons ".concat(M?"dashicons-arrow-down":"dashicons-arrow-right")}),D&&!i[a]&&React.createElement("div",{className:"igd-spinner"}),f&&React.createElement("img",{src:L,alt:j}),React.createElement("span",{className:"item-name"},j),!B&&s&&!!P&&React.createElement("span",{className:"item-size"},y(P)),!B&&U&&l&&"pause"!==l&&React.createElement("span",{className:"dashicons dashicons-controls-pause"}),!B&&(!U||!l||"pause"===l)&&React.createElement("span",{className:"dashicons dashicons-controls-play"})),M&&!!i[a]&&React.createElement(Ei,{isSub:!0,files:i[a],file:t,setFile:r,folderFiles:i,getFolderFiles:o,isPlaying:l,setIsPlaying:c,download:s,activeFolder:d,setActiveFolder:u,playlistThumbnail:f,playlistNumber:p,allowSearch:m,initParentFolder:g,initFolders:v,filters:h,privateFolders:w,fullTextSearch:_,initialSearchTerm:E,sort:R,setFiles:O,isSearchResults:x,setIsSearchResults:C,searchKeywordRef:F,notifications:k}))}})))}function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Si(e){return function(e){if(Array.isArray(e))return Ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xi(e,t,n){var r;return r=function(e,t){if("object"!=Ri(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ri(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||Fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ki=React,ji=ki.useRef,Pi=ki.useEffect,Ii=ki.useState;const Ti=function(e){var t=e.initFolders,n=void 0===t?[]:t,r=e.nextPrevious,i=e.rewindForward,o=e.allowEmbedPlayer,a=e.download,l=e.sort,c=e.allowSearch,s=e.initParentFolder,d=e.filters,u=e.privateFolders,f=e.fullTextSearch,p=void 0===f||f,m=e.initialSearchTerm,g=e.showPlaylist,v=void 0===g||g,h=e.openedPlaylist,w=void 0===h||h,y=e.playlistPosition,_=void 0===y?"bottom":y,E=e.notifications,R=e.playlistThumbnail,x=e.playlistAutoplay,C=e.playlistNumber,F=e.nonce,k=Ci(Ii(n),2),j=k[0],I=k[1],T=Ci(Ii(n.filter((function(e){return S(e)}))),2),L=T[0],B=T[1],D=Ci(Ii(L.length?L[0]:null),2),U=D[0],M=D[1],z=Ci(Ii(null),2),K=z[0],H=z[1],W=Ci(Ii(v&&w),2),Q=W[0],q=W[1],V=ji(m),J=Ci(Ii(!1),2),G=J[0],Y=J[1];Pi((function(){j.length&&B(n.filter((function(e){return!b(e)})))}),[j]);var X=Ci(Ii(!1),2),Z=X[0],$=X[1],ee=Ci(Ii({}),2),te=ee[0],ne=ee[1],re=U&&A(U),ie=Ci(Ii("true"===localStorage.getItem("igd_is_loop")),2),oe=ie[0],ae=ie[1],le=Ci(Ii("true"===localStorage.getItem("igd_is_shuffle")),2),ce=le[0],se=le[1],de=U?L.findIndex((function(e){return e.id===U.id})):0,ue=ji(null),fe=P();Pi((function(){fe&&localStorage.setItem("igd_is_loop",oe?"true":"false")}),[oe]),Pi((function(){fe&&localStorage.setItem("igd_is_shuffle",ce?"true":"false")}),[ce]),Pi((function(){fe&&E&&E.playNotification&&wp.ajax.post("igd_notification",{files:[U],notifications:E,type:"play",nonce:F||igd.nonce})}),[U]);var pe=U&&O(U),me=Ci(Ii("lg"),2),ge=me[0],ve=me[1];Pi((function(){if(ue.current){var e=480,t=768,n=992,r=new ResizeObserver((function(r){var i=r[0].contentRect.width;ve(i<=e?"xs":i<=t?"sm":i<=n?"md":"lg")}));return r.observe(ue.current),function(){r.disconnect()}}}),[ue]);var he=o&&U&&A(U)&&U.size>1e8;return Pi((function(){he&&wp.ajax.post("igd_update_file_permission",{file_id:U.id,account_id:U.accountId,nonce:F||igd.nonce})}),[U]),React.createElement("div",{ref:ue,className:"\n                igd-player \n                playlist-".concat(_,"\n                ").concat(re?"type-video":"type-audio"," \n                ").concat(Z?"active":"paused"," \n                ").concat(oe?"is-loop":"","\n                ").concat(Q?"is-playlist":"","\n                ").concat(ce?"is-shuffle":"","\n                size-").concat(ge,"\n            ")},React.createElement("div",{className:"media-wrap"},pe&&React.createElement("div",{className:"current-item"},React.createElement("img",{src:N(U,"small"),alt:U.name}),React.createElement("div",{className:"item-caption"},React.createElement("span",{className:"item-title"},U.name),!!U.description&&React.createElement("span",{className:"item-description"},U.description))),he&&React.createElement("iframe",{src:"https://drive.google.com/file/d/".concat(U.id,"/preview"),width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,referrerPolicy:"no-referrer",allow:"autoplay",sandbox:"allow-scripts allow-same-origin"}),!!U&&!he&&React.createElement(si,{file:U,isPlaying:Z,setIsPlaying:$,playNext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($(!0),!e||!oe){var t=de+1<L.length?L[de+1]:L[0];ce&&(t=L[Math.floor(Math.random()*L.length)]),M(t)}},playPrev:function(){$(!0),M(de-1>=0?L[de-1]:L[L.length-1])},download:a,showPlaylist:v,nextPrevious:r,rewindForward:i,playableItems:L,handleDownload:function(){var e="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(U.id,"&accountId=").concat(U.accountId);window.open(e,"_blank").focus(),E&&E.downloadNotification&&wp.ajax.post("igd_notification",{files:[U],notifications:E,type:"download",nonce:F||igd.nonce})},playlistAutoplay:x,isLoop:oe,setIsLoop:ae,isOpenPlaylist:Q,setIsOpenPlaylist:q,isShuffle:ce,setIsShuffle:se})),Q&&React.createElement(Ei,{file:U,files:j,setFile:M,folderFiles:te,getFolderFiles:function(e){return wp.ajax.post("igd_get_files",{data:{folder:e,sort:l,filters:d},nonce:F||igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return S(e)||b(e)})),ne((function(t){return Oi(Oi({},t),{},xi({},e.id?e.id:e,n))})),B((function(e){return[].concat(Si(e),Si(n.filter((function(e){return!b(e)}))))}))}))},isPlaying:Z,setIsPlaying:$,download:a,activeFolder:K,setActiveFolder:H,playlistThumbnail:R,playlistNumber:C,allowSearch:c,initParentFolder:s,initFolders:n,filters:d,privateFolders:u,fullTextSearch:p,initialSearchTerm:m,sort:l,setFiles:I,isSearchResults:G,setIsSearchResults:Y,searchKeywordRef:V,notifications:E,nonce:F}))};function Li(e){var t=e.initFolders,n=e.slideHeight,r=e.slidesPerPage,i=e.slideAutoplay,o=e.slideAutoplaySpeed,a=e.slideDots,l=e.slideArrows,c=e.download,s=e.preview,d=e.notifications,u=e.sliderImageSize,f=e.sliderCustomSizeWidth,p=e.sliderCustomSizeHeight,m=e.slideGap,g=e.galleryOverlay,v=e.overlayDisplayType,h=e.galleryOverlayTitle,w=e.galleryOverlayDescription,b=e.galleryOverlaySize,_=(e.nonce,function(){var e=r[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md"];return t.length<e?t.length:e}),E={dots:a,arrows:l,speed:500,slidesToShow:_("md"),infinite:!0,initialSlide:0,autoplay:i,autoplaySpeed:parseInt(o),cssEase:"linear",nextArrow:React.createElement("span",{className:"slick-arrow slick-next"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"}))),prevArrow:React.createElement("span",{className:"slick-arrow slick-prev"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"}))),responsive:[{breakpoint:576,settings:{slidesToShow:_("xs"),dots:!1}},{breakpoint:768,settings:{slidesToShow:_("sm")}},{breakpoint:992,settings:{slidesToShow:_("md")}},{breakpoint:1200,settings:{slidesToShow:_("lg")}},{breakpoint:2800,settings:{slidesToShow:_("xl")}}]};return React.createElement("div",{className:"igd-slider",style:{"--slide-height":n,"--slide-gap":"".concat(m,"px")}},React.createElement(Slider.default,E,t.map((function(e){var n=e.id,r=e.accountId,i=e.name,o=e.description,a=e.size,l=N(e,u,{w:f,h:p});return React.createElement(React.Fragment,null,React.createElement("div",{className:"slider-img-wrap",onClick:function(e){return function(e,n){s&&I(e,n,t,{download:c,preview:s,inlinePreview:!0,notifications:d},d,!0)}(e,n)}},React.createElement("img",{src:l,alt:i,referrerPolicy:"no-referrer",onError:function(e){e.target.src=k({id:n,accountId:r},"medium")}})),!!g&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(v)},!!h&&React.createElement("div",{className:"overlay-title"},i),!!w&&!!o&&React.createElement("p",{className:"overlay-description"},o),!!b&&React.createElement("span",{className:"overlay-size"},y(a))))}))))}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ui,Mi,zi=React,Ki=zi.useEffect,Hi=zi.useState;window.IgdShortcode=function(e){var t=e.data,n=e.isPreview,i=Bi(Hi(!1),2),o=i[0],a=i[1],l=Bi(Hi(""),2),c=l[0],s=l[1],d=t.id,u=t.type,f=t.allFolders,p=t.privateFolders,m=t.folders,g=void 0===m?[]:m,v=t.filters,h=t.galleryLayout,w=void 0===h?"justified":h,y=t.galleryAspectRatio,_=void 0===y?"1/1":y,R=t.galleryColumns,A=void 0===R?{xs:1,sm:2,md:3,lg:4,xl:5}:R,O=t.galleryHeight,x=void 0===O?300:O,C=t.galleryMargin,F=void 0===C?5:C,N=t.galleryView,k=void 0===N?"rounded":N,j=t.galleryFolderView,P=void 0===j?"title":j,I=t.galleryOverlay,L=void 0===I||I,B=t.overlayDisplayType,D=void 0===B?"hover":B,U=t.galleryOverlayTitle,M=void 0===U||U,z=t.galleryOverlayDescription,K=void 0===z||z,H=t.galleryOverlaySize,W=t.galleryImageSize,Q=void 0===W?"medium":W,q=t.galleryCustomSizeWidth,V=t.galleryCustomSizeHeight,J=t.view,G=t.lazyLoad,Y=void 0===G||G,X=t.lazyLoadNumber,Z=void 0===X?100:X,$=t.lazyLoadType,ee=void 0===$?"pagination":$,te=t.showLastModified,ne=t.showFileSizeField,re=void 0===ne||ne,ie=t.showHeader,oe=void 0===ie||ie,ae=t.showRefresh,le=void 0===ae||ae,ce=t.showSorting,se=void 0===ce||ce,de=t.showBreadcrumbs,ue=void 0===de||de,fe=t.searchBoxText,pe=void 0===fe?wp.i18n.__("Search for files & content","integrate-google-drive"):fe,me=t.nextPrevious,ge=void 0===me||me,ve=t.rewindForward,he=void 0!==ve&&ve,we=t.allowEmbedPlayer,ye=t.showPlaylist,be=void 0===ye||ye,_e=t.playlistThumbnail,Ee=void 0===_e||_e,Re=t.playlistNumber,Se=void 0===Re||Re,Ae=t.playlistAutoplay,Oe=void 0===Ae||Ae,xe=t.openedPlaylist,Ce=void 0===xe||xe,Fe=t.playlistPosition,Ne=void 0===Fe?"bottom":Fe,ke=t.fileNumbers,je=t.sort,Pe=t.maxFiles,Te=t.maxFileSize,Le=t.minFileSize,Be=t.notifications,De=t.preview,Ue=void 0===De||De,Me=t.inlinePreview,ze=void 0===Me||Me,Ke=t.allowPreviewPopout,He=void 0===Ke||Ke,We=t.directLink,Qe=t.createDoc,qe=t.edit,Ve=t.newFolder,Je=t.rename,Ge=t.details,Ye=t.moveCopy,Xe=t.moveCopy,Ze=t.canDelete,$e=t.upload,et=t.download,tt=void 0===et||et,nt=t.folderDownload,rt=t.zipDownload,it=t.allowShare,ot=t.viewSwitch,at=void 0===ot||ot,lt=t.allowSearch,ct=void 0===lt?"search"===u:lt,st=t.fullTextSearch,dt=void 0===st||st,ut=t.initialSearchTerm,ft=void 0===ut?"":ut,pt=t.comment,mt=t.commentMethod,gt=void 0===mt?"facebook":mt,vt=t.photoProof,ht=t.photoProofEmail,wt=t.photoProofMaxSelection,yt=t.enableUploadDescription,bt=t.uploadImmediately,_t=t.isFormUploader,Et=t.isRequired,Rt=t.isWooCommerceUploader,St=t.wcOrderId,At=t.wcItemId,Ot=t.wcProductId,xt=t.uploadedFiles,Ct=void 0===xt?[]:xt,Ft=t.initParentFolder,Nt=t.enableFolderUpload,kt=t.overwrite,jt=t.showUploadLabel,Pt=t.uploadLabelText,It=void 0===Pt?wp.i18n.__("Upload Files","integrate-google-drive"):Pt,Tt=t.uploadFileName,Lt=t.showUploadConfirmation,Bt=void 0===Lt||Lt,Dt=t.uploadConfirmationMessage,Ut=void 0===Dt?"<h3>".concat(wp.i18n.__("Upload successful!","integrate-google-drive"),"</h3> <p>").concat(wp.i18n.__("Your file(s) have been uploaded. Thank you for your submission!","integrate-google-drive"),"</p>"):Dt,Mt=t.sliderImageSize,zt=void 0===Mt?"medium":Mt,Kt=t.sliderCustomSizeWidth,Ht=t.sliderCustomSizeHeight,Wt=t.slideDescription,Qt=t.slideHeight,qt=void 0===Qt?"300px":Qt,Vt=t.slidesPerPage,Jt=void 0===Vt?{xs:1,sm:2,md:3,lg:4,xl:5}:Vt,Gt=t.slidesToScroll,Yt=void 0===Gt?1:Gt,Xt=t.slideAutoplay,Zt=void 0===Xt||Xt,$t=t.slideAutoplaySpeed,en=void 0===$t?3e3:$t,tn=t.slideDots,nn=void 0===tn||tn,rn=t.slideArrows,on=void 0===rn||rn,an=t.slideGap,ln=void 0===an?5:an,cn=t.account,sn=t.nonce,dn=f?E():g;return Ki((function(){n&&(a(!0),wp.ajax.post("igd_get_shortcode_preview",{data:t,nonce:igd.nonce}).done((function(e){return s(e)})).fail((function(e){return console.log(e)})).always((function(){a(!1),setTimeout((function(){T()}),100)})))}),[n,t]),React.createElement(React.Fragment,null,n&&o&&React.createElement("div",{className:"igd-spinner spinner-large"}),n&&!o&&React.createElement("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:c}}),!n&&React.createElement(React.Fragment,null,["browser","gallery","search"].includes(u)&&React.createElement(oi,{shortcodeId:d,account:cn,nonce:sn,galleryLayout:w,galleryAspectRatio:_,galleryColumns:A,galleryOverlay:L,overlayDisplayType:D,galleryOverlayTitle:M,galleryOverlayDescription:K,galleryOverlaySize:H,galleryImageSize:Q,galleryCustomSizeWidth:q,galleryCustomSizeHeight:V,galleryHeight:x,galleryMargin:F,galleryView:k,galleryFolderView:P,initParentFolder:Ft,allFolders:f,privateFolders:p,initFolders:dn,searchBoxText:pe,filters:v,isList:"list"===J,lazyLoad:Y,lazyLoadNumber:Z,lazyLoadType:ee,showLastModified:te,showFileSizeField:re,showHeader:oe,showRefresh:le,showSorting:se,showBreadcrumbs:ue,fileNumbers:ke,sort:je,shortcodeBuilderType:u,initialSearchTerm:ft,permissions:{preview:Ue,inlinePreview:ze,allowPreviewPopout:He,directLink:We,newFolder:Ve,rename:Je,move:Xe,copy:Ye,upload:$e,download:tt,folderDownload:nt,zipDownload:rt,details:Ge,view:at,delete:Ze,share:it,allowSearch:ct,createDoc:Qe,edit:qe,fullTextSearch:dt,comment:pt,commentMethod:gt,photoProof:vt,photoProofEmail:ht,photoProofMaxSelection:wt},notifications:Be}),"slider"===u&&React.createElement(Li,{initFolders:dn,slideDescription:Wt,slideHeight:qt,slidesPerPage:Jt,slidesToScroll:Yt,slideAutoplay:Zt,slideAutoplaySpeed:en,slideDots:nn,slideArrows:on,download:t.download,preview:t.preview,notifications:Be,sliderImageSize:zt,sliderCustomSizeWidth:Kt,sliderCustomSizeHeight:Ht,slideGap:ln,galleryOverlay:L,overlayDisplayType:D,galleryOverlayTitle:M,galleryOverlayDescription:K,galleryOverlaySize:H,nonce:sn}),"uploader"===u&&React.createElement(r,{value:{account:cn,folders:g,filters:v,maxFiles:Pe,maxFileSize:Te,minFileSize:Le,enableFolderUpload:Nt,isFormUploader:_t,isRequired:Et,showUploadLabel:jt,uploadLabelText:It,uploadFileName:Tt,isWooCommerceUploader:Rt,wcOrderId:St,wcItemId:At,wcProductId:Ot,notifications:Be,initUploadedFiles:Ct,enableUploadDescription:yt,uploadImmediately:bt,overwrite:kt,showUploadConfirmation:Bt,uploadConfirmationMessage:Ut,nonce:sn}},React.createElement(Ie,null)),"media"===u&&React.createElement(Ti,{initParentFolder:Ft,initFolders:dn.filter((function(e){return S(e)||b(e)})),nextPrevious:ge,rewindForward:he,allowEmbedPlayer:we,showPlaylist:be,playlistThumbnail:Ee,playlistNumber:Se,playlistAutoplay:Oe,openedPlaylist:Ce,playlistPosition:Ne,download:t.download,sort:je,filters:v,privateFolders:p,allowSearch:ct,fullTextSearch:dt,initialSearchTerm:ft,notifications:Be,nonce:sn})))},window.initShortcode=T,Ui=jQuery,(Mi={init:function(){T(),Ui(window).on("elementor/frontend/init",(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_browser.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_uploader.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_gallery.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_slider.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_media.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_search.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_embed.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_download.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_view.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_shortcodes.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/shortcode.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/form.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/mf-igd-uploader.default",T),window.elementorFrontend.hooks.addAction("frontend/element_ready/text-editor.default",T)})),Ui(document).on("click",".igd-view-link[data-id], .igd-download-link[data-id]",Mi.sendNotification)},ready:function(){Ui(document).on("change",".nf-element.upload-file-list",(function(){var e=Ui(this).val(),t=parseInt(Ui(this).data("min-files")),n=parseInt(Ui(this).data("field-id")),r="min-files-error";if(t>0){var i=[];try{i=e.split("), ")}catch(e){console.log(e)}if(i.length<t){var o=wp.i18n.sprintf(wp.i18n.__("Please upload at least %s files.","integrate-google-drive"),t);nfRadio.channel("fields").request("add:error",n,r,o)}else nfRadio.channel("fields").request("remove:error",n,r)}})),Ui(document).on("click",".igd-wc-upload-wrap .upload-button",(function(){Ui(this).toggleClass("active")})),Ui(document.body).on("updated_wc_div",(function(){T()})),Ui(document).on("gform_post_render",(function(e,t){T()}))},sendNotification:function(){var e=Ui(this).hasClass("igd-view-link")?"view":"download",t=Ui(this).data("id"),n=Ui(this).data("account-id"),r=Ui(this).data("notification-email"),i=Ui(this).data("skip-current-user-notification");t&&wp.ajax.post("igd_send_view_download_notification",{id:t,accountId:n,type:e,notificationEmail:r,skipCurrentUserNotification:i,nonce:igd.nonce})}}).init(),Ui(document).ready(Mi.ready)})()})();